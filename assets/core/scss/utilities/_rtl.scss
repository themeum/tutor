// RTL (Right-to-Left) Utility Classes
// Logical direction utilities and RTL-specific components
// Note: Core utilities (ml, mr, pl, pr, text-left, etc.) are now RTL-aware by default

@use '../tokens/spacing' as *;
@use '../tokens/radius' as *;
@use '../tokens/breakpoints' as *;

// =============================================================================
// LOGICAL DIRECTION UTILITIES (Semantic alternatives to physical directions)
// =============================================================================

// Text alignment utilities (semantic)
.tutor-text-start {
  [dir="ltr"] & {
    text-align: left;
  }
  [dir="rtl"] & {
    text-align: right;
  }
}

.tutor-text-end {
  [dir="ltr"] & {
    text-align: right;
  }
  [dir="rtl"] & {
    text-align: left;
  }
}

// Float utilities (semantic)
.tutor-float-start {
  [dir="ltr"] & {
    float: left;
  }
  [dir="rtl"] & {
    float: right;
  }
}

.tutor-float-end {
  [dir="ltr"] & {
    float: right;
  }
  [dir="rtl"] & {
    float: left;
  }
}

// Logical margin utilities (semantic alternatives)
@each $key, $value in $tutor-spacing {
  .tutor-ms-#{$key} {
    [dir="ltr"] & {
      margin-left: $value;
    }
    [dir="rtl"] & {
      margin-right: $value;
    }
  }
  
  .tutor-me-#{$key} {
    [dir="ltr"] & {
      margin-right: $value;
    }
    [dir="rtl"] & {
      margin-left: $value;
    }
  }
}

// Logical padding utilities (semantic alternatives)
@each $key, $value in $tutor-spacing {
  .tutor-ps-#{$key} {
    [dir="ltr"] & {
      padding-left: $value;
    }
    [dir="rtl"] & {
      padding-right: $value;
    }
  }
  
  .tutor-pe-#{$key} {
    [dir="ltr"] & {
      padding-right: $value;
    }
    [dir="rtl"] & {
      padding-left: $value;
    }
  }
}

// Logical positioning utilities
.tutor-start-0 {
  [dir="ltr"] & {
    left: 0;
  }
  [dir="rtl"] & {
    right: 0;
  }
}

.tutor-end-0 {
  [dir="ltr"] & {
    right: 0;
  }
  [dir="rtl"] & {
    left: 0;
  }
}

// =============================================================================
// BORDER AND RADIUS UTILITIES (Not covered by core utilities)
// =============================================================================

// Border utilities
.tutor-border-start {
  [dir="ltr"] & {
    border-left: 1px solid var(--tutor-border-idle);
  }
  [dir="rtl"] & {
    border-right: 1px solid var(--tutor-border-idle);
  }
}

.tutor-border-end {
  [dir="ltr"] & {
    border-right: 1px solid var(--tutor-border-idle);
  }
  [dir="rtl"] & {
    border-left: 1px solid var(--tutor-border-idle);
  }
}

// Border radius utilities
@each $key, $value in $tutor-radius {
  .tutor-rounded-s-#{$key} {
    [dir="ltr"] & {
      border-top-left-radius: $value;
      border-bottom-left-radius: $value;
    }
    [dir="rtl"] & {
      border-top-right-radius: $value;
      border-bottom-right-radius: $value;
    }
  }
  
  .tutor-rounded-e-#{$key} {
    [dir="ltr"] & {
      border-top-right-radius: $value;
      border-bottom-right-radius: $value;
    }
    [dir="rtl"] & {
      border-top-left-radius: $value;
      border-bottom-left-radius: $value;
    }
  }
  
  .tutor-rounded-ts-#{$key} {
    [dir="ltr"] & {
      border-top-left-radius: $value;
    }
    [dir="rtl"] & {
      border-top-right-radius: $value;
    }
  }
  
  .tutor-rounded-te-#{$key} {
    [dir="ltr"] & {
      border-top-right-radius: $value;
    }
    [dir="rtl"] & {
      border-top-left-radius: $value;
    }
  }
  
  .tutor-rounded-bs-#{$key} {
    [dir="ltr"] & {
      border-bottom-left-radius: $value;
    }
    [dir="rtl"] & {
      border-bottom-right-radius: $value;
    }
  }
  
  .tutor-rounded-be-#{$key} {
    [dir="ltr"] & {
      border-bottom-right-radius: $value;
    }
    [dir="rtl"] & {
      border-bottom-left-radius: $value;
    }
  }
}

// =============================================================================
// FLEXBOX AND TRANSFORM UTILITIES
// =============================================================================

// Flexbox utilities (RTL-aware versions)
.tutor-flex-row {
  [dir="ltr"] & {
    flex-direction: row;
  }
  [dir="rtl"] & {
    flex-direction: row-reverse;
  }
}

.tutor-flex-row-reverse {
  [dir="ltr"] & {
    flex-direction: row-reverse;
  }
  [dir="rtl"] & {
    flex-direction: row;
  }
}

// Transform utilities
.tutor-translate-x-full {
  [dir="ltr"] & {
    transform: translateX(100%);
  }
  [dir="rtl"] & {
    transform: translateX(-100%);
  }
}

.tutor-translate-x-0 {
  transform: translateX(0);
}

.-tutor-translate-x-full {
  [dir="ltr"] & {
    transform: translateX(-100%);
  }
  [dir="rtl"] & {
    transform: translateX(100%);
  }
}

// =============================================================================
// COMPONENT-SPECIFIC UTILITIES
// =============================================================================

// Icon utilities for RTL
.tutor-icon-start {
  [dir="ltr"] & {
    margin-right: var(--tutor-spacing-2, 4px);
    margin-left: 0;
  }
  [dir="rtl"] & {
    margin-left: var(--tutor-spacing-2, 4px);
    margin-right: 0;
  }
}

.tutor-icon-end {
  [dir="ltr"] & {
    margin-left: var(--tutor-spacing-2, 4px);
    margin-right: 0;
  }
  [dir="rtl"] & {
    margin-right: var(--tutor-spacing-2, 4px);
    margin-left: 0;
  }
}

// Component positioning utilities
.tutor-dropdown-start {
  [dir="ltr"] & {
    left: 0;
    right: auto;
  }
  [dir="rtl"] & {
    right: 0;
    left: auto;
  }
}

.tutor-dropdown-end {
  [dir="ltr"] & {
    right: 0;
    left: auto;
  }
  [dir="rtl"] & {
    left: 0;
    right: auto;
  }
}

.tutor-sidebar-start {
  [dir="ltr"] & {
    left: 0;
    right: auto;
  }
  [dir="rtl"] & {
    right: 0;
    left: auto;
  }
}

.tutor-sidebar-end {
  [dir="ltr"] & {
    right: 0;
    left: auto;
  }
  [dir="rtl"] & {
    left: 0;
    right: auto;
  }
}

.tutor-toast-start {
  [dir="ltr"] & {
    left: 1rem;
    right: auto;
  }
  [dir="rtl"] & {
    right: 1rem;
    left: auto;
  }
}

.tutor-toast-end {
  [dir="ltr"] & {
    right: 1rem;
    left: auto;
  }
  [dir="rtl"] & {
    left: 1rem;
    right: auto;
  }
}

// =============================================================================
// LANGUAGE-SPECIFIC RTL SUPPORT
// =============================================================================

.tutor-lang-ar,
.tutor-lang-he,
.tutor-lang-fa,
.tutor-lang-ur {
  direction: rtl;
  text-align: right;
}

.tutor-lang-en,
.tutor-lang-es,
.tutor-lang-fr,
.tutor-lang-de {
  direction: ltr;
  text-align: left;
}

// Automatic RTL detection classes (for JavaScript integration)
.tutor-auto-rtl {
  &.is-rtl {
    direction: rtl;
  }
  
  &.is-ltr {
    direction: ltr;
  }
}