// Border Utilities
// Border width, style, and radius utilities with smart defaults

@use '../tokens/radius' as *;
@use '../tokens/breakpoints' as *;

// =============================================================================
// SMART BORDER UTILITIES (with defaults)
// =============================================================================

// Basic border with smart defaults (1px solid gray-300)
.tutor-border {
  border: 1px solid var(--tutor-border-idle);
}

.tutor-border-0 {
  border: none;
}

// Border widths (with default style and color)
.tutor-border-2 {
  border: 2px solid var(--tutor-border-idle);
}

.tutor-border-4 {
  border: 4px solid var(--tutor-border-idle);
}

.tutor-border-8 {
  border: 8px solid var(--tutor-border-idle);
}

// =============================================================================
// DIRECTIONAL BORDERS (RTL-aware with defaults)
// =============================================================================

// Top borders
.tutor-border-t {
  border-top: 1px solid var(--tutor-border-idle);
}

.tutor-border-t-0 {
  border-top: none;
}

.tutor-border-t-2 {
  border-top: 2px solid var(--tutor-border-idle);
}

.tutor-border-t-4 {
  border-top: 4px solid var(--tutor-border-idle);
}

// Right borders (RTL-aware)
.tutor-border-r {
  [dir="ltr"] & {
    border-right: 1px solid var(--tutor-border-idle);
  }
  [dir="rtl"] & {
    border-left: 1px solid var(--tutor-border-idle);
  }
}

.tutor-border-r-0 {
  [dir="ltr"] & {
    border-right: none;
  }
  [dir="rtl"] & {
    border-left: none;
  }
}

.tutor-border-r-2 {
  [dir="ltr"] & {
    border-right: 2px solid var(--tutor-border-idle);
  }
  [dir="rtl"] & {
    border-left: 2px solid var(--tutor-border-idle);
  }
}

.tutor-border-r-4 {
  [dir="ltr"] & {
    border-right: 4px solid var(--tutor-border-idle);
  }
  [dir="rtl"] & {
    border-left: 4px solid var(--tutor-border-idle);
  }
}

// Bottom borders
.tutor-border-b {
  border-bottom: 1px solid var(--tutor-border-idle);
}

.tutor-border-b-0 {
  border-bottom: none;
}

.tutor-border-b-2 {
  border-bottom: 2px solid var(--tutor-border-idle);
}

.tutor-border-b-4 {
  border-bottom: 4px solid var(--tutor-border-idle);
}

// Left borders (RTL-aware)
.tutor-border-l {
  [dir="ltr"] & {
    border-left: 1px solid var(--tutor-border-idle);
  }
  [dir="rtl"] & {
    border-right: 1px solid var(--tutor-border-idle);
  }
}

.tutor-border-l-0 {
  [dir="ltr"] & {
    border-left: none;
  }
  [dir="rtl"] & {
    border-right: none;
  }
}

.tutor-border-l-2 {
  [dir="ltr"] & {
    border-left: 2px solid var(--tutor-border-idle);
  }
  [dir="rtl"] & {
    border-right: 2px solid var(--tutor-border-idle);
  }
}

.tutor-border-l-4 {
  [dir="ltr"] & {
    border-left: 4px solid var(--tutor-border-idle);
  }
  [dir="rtl"] & {
    border-right: 4px solid var(--tutor-border-idle);
  }
}

// =============================================================================
// BORDER STYLES (modifiers)
// =============================================================================

.tutor-border-solid {
  border-style: solid;
}

.tutor-border-dashed {
  border-style: dashed;
}

.tutor-border-dotted {
  border-style: dotted;
}

.tutor-border-double {
  border-style: double;
}

.tutor-border-none {
  border-style: none;
}

// =============================================================================
// BORDER RADIUS (RTL-aware)
// =============================================================================

// All corners
@each $key, $value in $tutor-radius {
  .tutor-rounded-#{$key} {
    border-radius: $value;
  }

  // Top and bottom (no RTL issues)
  .tutor-rounded-t-#{$key} {
    border-top-left-radius: $value;
    border-top-right-radius: $value;
  }

  .tutor-rounded-b-#{$key} {
    border-bottom-right-radius: $value;
    border-bottom-left-radius: $value;
  }

  // Left and right sides (RTL-aware)
  .tutor-rounded-r-#{$key} {
    [dir="ltr"] & {
      border-top-right-radius: $value;
      border-bottom-right-radius: $value;
    }
    [dir="rtl"] & {
      border-top-left-radius: $value;
      border-bottom-left-radius: $value;
    }
  }

  .tutor-rounded-l-#{$key} {
    [dir="ltr"] & {
      border-top-left-radius: $value;
      border-bottom-left-radius: $value;
    }
    [dir="rtl"] & {
      border-top-right-radius: $value;
      border-bottom-right-radius: $value;
    }
  }

  // Individual corners (RTL-aware)
  .tutor-rounded-tl-#{$key} {
    [dir="ltr"] & {
      border-top-left-radius: $value;
    }
    [dir="rtl"] & {
      border-top-right-radius: $value;
    }
  }

  .tutor-rounded-tr-#{$key} {
    [dir="ltr"] & {
      border-top-right-radius: $value;
    }
    [dir="rtl"] & {
      border-top-left-radius: $value;
    }
  }

  .tutor-rounded-br-#{$key} {
    [dir="ltr"] & {
      border-bottom-right-radius: $value;
    }
    [dir="rtl"] & {
      border-bottom-left-radius: $value;
    }
  }

  .tutor-rounded-bl-#{$key} {
    [dir="ltr"] & {
      border-bottom-left-radius: $value;
    }
    [dir="rtl"] & {
      border-bottom-right-radius: $value;
    }
  }
}

// =============================================================================
// SEMANTIC BORDER UTILITIES (common patterns)
// =============================================================================

// Card borders
.tutor-border-card {
  border: 1px solid var(--tutor-border-idle);
  border-radius: var(--tutor-radius-lg);
}

// Input borders
.tutor-border-input {
  border: 1px solid var(--tutor-border-idle);
  border-radius: var(--tutor-radius-md);
  
  &:focus {
    border-color: var(--tutor-border-focus);
  }
}

// Divider borders
.tutor-border-divider {
  border-bottom: 1px solid var(--tutor-border-idle);
}

// Accent borders (for highlights)
.tutor-border-accent {
  border-left: 4px solid var(--tutor-brand-600);
  
  [dir="rtl"] & {
    border-left: none;
    border-right: 4px solid var(--tutor-brand-600);
  }
}

// =============================================================================
// RESPONSIVE BORDER UTILITIES
// =============================================================================

@each $breakpoint, $value in $tutor-breakpoints {
  @if $value > 0 {
    @media (min-width: $value) {
      .tutor-#{$breakpoint}\:border {
        border: 1px solid var(--tutor-border-idle);
      }
      
      .tutor-#{$breakpoint}\:border-0 {
        border: none;
      }
      
      .tutor-#{$breakpoint}\:border-t {
        border-top: 1px solid var(--tutor-border-idle);
      }
      
      .tutor-#{$breakpoint}\:border-r {
        [dir="ltr"] & {
          border-right: 1px solid var(--tutor-border-idle);
        }
        [dir="rtl"] & {
          border-left: 1px solid var(--tutor-border-idle);
        }
      }
      
      .tutor-#{$breakpoint}\:border-b {
        border-bottom: 1px solid var(--tutor-border-idle);
      }
      
      .tutor-#{$breakpoint}\:border-l {
        [dir="ltr"] & {
          border-left: 1px solid var(--tutor-border-idle);
        }
        [dir="rtl"] & {
          border-right: 1px solid var(--tutor-border-idle);
        }
      }
    }
  }
}