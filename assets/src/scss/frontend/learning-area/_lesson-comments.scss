@use '@Core/scss/tokens' as *;
@use '@Core/scss/mixins' as *;

.tutor-comments-list {
  .tutor-comment {
    @include tutor-flex(row, flex-start, flex-start);
    gap: $tutor-spacing-5;
    padding: $tutor-spacing-6;

    &:not(:last-of-type) {
      border-bottom: 1px solid $tutor-border-idle;
    }

    &-connector-line {
      position: absolute;
      top: 40px;
      left: 20px;
      pointer-events: none;
      z-index: $tutor-z-level;
      height: 0;
      min-height: 0;
      width: 0;

      &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 1px;
        height: var(--vertical-height, 0);
        background-color: $tutor-border-idle;
        @include tutor-transition(height, 0.3s);
      }

      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: var(--horizontal-width, 0);
        height: 1px;
        background-color: $tutor-border-idle;
        @include tutor-transition(width, 0.3s);
      }
    }

    &-action-btn {
      @include tutor-button-reset;
      @include tutor-flex(row, center, center);
      gap: $tutor-spacing-2;
      @include tutor-typography('small', 'regular', 'subdued');
      @include tutor-transition(color);

      svg {
        width: 16px;
        height: 16px;
        flex-shrink: 0;
        color: $tutor-icon-secondary;
        @include tutor-transition(color);
      }

      &:hover {
        color: $tutor-text-primary;

        svg {
          color: $tutor-text-primary;
        }
      }

      &:focus {
        outline: none;
      }
    }

    &-replies-toggle {
      @include tutor-button-reset;
      @include tutor-flex(row, center, flex-start);
      gap: $tutor-spacing-2;
      margin-top: $tutor-spacing-3;
      @include tutor-typography('tiny', 'medium', 'primary', 'body');
      color: $tutor-text-brand;
      background: transparent;
      cursor: pointer;
      @include tutor-transition();

      svg {
        width: 16px;
        height: 16px;
        flex-shrink: 0;
        @include tutor-transition(transform);
      }
    }

    &-replies-collapse {
      @include tutor-button-reset;
      margin-top: $tutor-spacing-3;
      @include tutor-typography('tiny', 'medium', 'primary', 'body');
      color: $tutor-text-brand;
      cursor: pointer;
      @include tutor-transition();

      &:hover {
        background: $tutor-button-primary-soft;
      }

      &:active {
        background: $tutor-button-primary-soft-hover;
      }
    }

    &-replies {
      @include tutor-flex(column, flex-start, flex-start);
      gap: $tutor-spacing-6;
      margin-top: $tutor-spacing-4;
      width: 100%;
    }
  }
}
