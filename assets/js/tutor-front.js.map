{"version":3,"file":"tutor-front.js","mappings":"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","sources":["webpack://tutor/./assets/react/lib/common.js","webpack://tutor/./assets/react/lib/tutor.js","webpack://tutor/./v2-library/_src/js/main.js","webpack://tutor/./v2-library/_src/js/popupMenu.js","webpack://tutor/./v2-library/_src/js/thumbnailUploadPreview.js","webpack://tutor/./v2-library/_src/js/tutorModal.js","webpack://tutor/webpack/bootstrap","webpack://tutor/webpack/runtime/compat get default export","webpack://tutor/webpack/runtime/define property getters","webpack://tutor/webpack/runtime/hasOwnProperty shorthand","webpack://tutor/webpack/runtime/make namespace object","webpack://tutor/./assets/react/front/tutor-front.js"],"sourcesContent":["import './tutor';","import '../../../v2-library/_src/js/main';\n\nwindow.tutor_get_nonce_data=function(send_key_value) {\n\n    var nonce_data = window._tutorobject || {};\n    var nonce_key = nonce_data.nonce_key || '';\n    var nonce_value = nonce_data[nonce_key] || '';\n\n    if(send_key_value) {\n        return {key:nonce_key, value:nonce_value};\n    }\n\n    return {[nonce_key]:nonce_value};\n}\n\nwindow.tutor_popup = function($, icon, padding) {\n\n    var $this = this;\n    var element; \n\n    this.popup_wrapper = function(wrapper_tag) {\n        var img_tag = icon === '' ? '' : '<img class=\"tutor-pop-icon\" src=\"'+window._tutorobject.tutor_url+'assets/images/'+icon+'.svg\"/>';\n        \n        return '<'+wrapper_tag+' class=\"tutor-component-popup-container\">\\\n            <div class=\"tutor-component-popup-'+padding+'\">\\\n                <div class=\"tutor-component-content-container\">'+img_tag+'</div>\\\n                <div class=\"tutor-component-button-container\"></div>\\\n            </div>\\\n        </'+wrapper_tag+'>';\n    }\n\n    this.popup = function(data) {\n        \n        var title = data.title ? '<h3>'+data.title+'</h3>' : '';\n        var description = data.description ? '<p>'+data.description+'</p>' : '';\n\n        var buttons = Object.keys(data.buttons || {}).map(function(key) {\n            var button = data.buttons[key];\n            var button_id = button.id ? 'tutor-popup-'+button.id : ''; \n            return $('<button id=\"'+button_id+'\" class=\"tutor-button tutor-button-'+button.class+'\">'+button.title+'</button>').click(button.callback);\n        });\n\n        element = $($this.popup_wrapper(data.wrapper_tag || 'div'));\n        var content_wrapper = element.find('.tutor-component-content-container');\n\n        content_wrapper.append(title);\n        data.after_title ? content_wrapper.append(data.after_title) : 0;\n\n        content_wrapper.append(description);\n        data.after_description ? content_wrapper.append(data.after_description) : 0;\n\n        // Assign close event on click black overlay\n        element.click(function() {\n            $(this).remove();\n        }).children().click(function(e) {\n            e.stopPropagation();\n        });\n\n        // Append action button\n        for(var i=0; i<buttons.length; i++) {\n            element.find('.tutor-component-button-container').append(buttons[i]);\n        }\n        \n        $('body').append(element);\n\n        return element;\n    }\n\n    return {popup: this.popup};\n}\n\nwindow.tutorDotLoader = (loaderType) => {\n    return `    \n    <div class=\"tutor-dot-loader ${loaderType ? loaderType: ''}\">\n        <span class=\"dot dot-1\"></span>\n        <span class=\"dot dot-2\"></span>\n        <span class=\"dot dot-3\"></span>\n        <span class=\"dot dot-4\"></span>\n    </div>`;\n}\n\nwindow.tutor_date_picker = () => {\n    if (jQuery.datepicker){\n        var format = _tutorobject.wp_date_format;\n        if ( !format ) {\n            format = \"yy-mm-dd\";\n        }\n        $( \".tutor_date_picker\" ).datepicker({\"dateFormat\" : format});\n    }\n}\n\njQuery(document).ready(function($){\n    'use strict';\n\n    const { __, _x, _n, _nx } = wp.i18n;\n    /**\n     * Global date_picker selector \n     * \n     * @since 1.9.7\n     */\n    function load_date_picker() {\n        if (jQuery.datepicker){\n            var format = _tutorobject.wp_date_format;\n            if ( !format ) {\n                format = \"yy-mm-dd\";\n            }\n            $( \".tutor_date_picker\" ).datepicker({\"dateFormat\" : format});\n        }\n        \n        /** Disable typing on datePicker field */\n        $(document).on('keydown', '.hasDatepicker, .tutor_date_picker', function( e ) {\n            if ( e.keyCode !== 8 ) {\n                e.preventDefault();\n            }\n        });\n    };\n    load_date_picker();\n     \n\n    /**\n     * Video source tabs\n     */\n\n    if (jQuery().select2){\n        $('.videosource_select2').select2({\n            width: \"100%\",\n            templateSelection: iformat,\n            templateResult: iformat,\n            allowHtml: true\n        });\n    }\n    //videosource_select2\n\n    function iformat(icon) {\n        var originalOption = icon.element;\n        return $('<span><i class=\"tutor-icon-' + $(originalOption).data('icon') + '\"></i> ' + icon.text + '</span>');\n    }\n\n    /**\n     * Course Builder\n     *\n     * @since v.1.3.4\n     */\n\n    $(document).on( 'click', '.tutor-course-thumbnail-upload-btn',  function( event ){\n        event.preventDefault();\n        var $that = $(this);\n        var frame;\n        if ( frame ) {\n            frame.open();\n            return;\n        }\n        frame = wp.media({\n            title: __( 'Select or Upload Media Of Your Chosen Persuasion', 'tutor' ),\n            button: {\n                text: __( 'Use this media', 'tutor' )\n            },\n            multiple: false\n        });\n        frame.on( 'select', function() {\n            var attachment = frame.state().get('selection').first().toJSON();\n            $that.closest('.tutor-thumbnail-wrap').find('.thumbnail-img').attr('src', attachment.url);\n            $that.closest('.tutor-thumbnail-wrap').find('input').val(attachment.id);\n            $('.tutor-course-thumbnail-delete-btn').show();\n        });\n        frame.open();\n    });\n\n    //Delete Thumbnail\n    $(document).on( 'click', '.tutor-course-thumbnail-delete-btn',  function( event ){\n        event.preventDefault();\n        var $that = $(this);\n\n        var placeholder_src = $that.closest('.tutor-thumbnail-wrap').find('.thumbnail-img').attr('data-placeholder-src');\n        $that.closest('.tutor-thumbnail-wrap').find('.thumbnail-img').attr('src', placeholder_src);\n        $that.closest('.tutor-thumbnail-wrap').find('input').val('');\n        $('.tutor-course-thumbnail-delete-btn').hide();\n    });\n\n    $(document).on('change keyup', '.course-edit-topic-title-input', function (e) {\n        e.preventDefault();\n        $(this).closest('.tutor-topics-top').find('.topic-inner-title').html($(this).val());\n    });\n\n    $(document).on('click', '.tutor-topics-edit-button', function(e){\n        e.preventDefault();\n        var $button = $(this);\n        var topics_id = $button.closest('.tutor-topics-wrap').find('[name=\"topic_id\"]').val();;\n        var topic_title = $button.closest('.tutor-topics-wrap').find('[name=\"topic_title\"]').val();\n        var topic_summery = $button.closest('.tutor-topics-wrap').find('[name=\"topic_summery\"]').val();\n\n        var data = {topic_title: topic_title, topic_summery : topic_summery, topic_id : topics_id, action: 'tutor_update_topic'};\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : data,\n            beforeSend: function () {\n                $button.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (data.success){\n                    $button.closest('.tutor-topics-wrap').find('span.topic-inner-title').text(topic_title);\n                    $button.closest('.tutor-modal').removeClass('tutor-is-active');\n                }\n            },\n            complete: function () {\n                $button.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Delete Lesson from course builder\n     */\n    $(document).on('click', '.tutor-delete-lesson-btn', function(e){\n        e.preventDefault();\n\n        if( ! confirm( __( 'Are you sure?', 'tutor' ) )){\n            return;\n        }\n\n        var $that = $(this);\n        var lesson_id = $that.attr('data-lesson-id');\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : {lesson_id : lesson_id, action: 'tutor_delete_lesson_by_id'},\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (data.success){\n                    $that.closest('.course-content-item').remove();\n                }\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Quiz Modal\n     */\n\n    $(document).on('click', '.modal-close-btn', function(e){\n        e.preventDefault();\n        $('.tutor-modal-wrap').removeClass('show');\n    });\n    $(document).on('keyup', function(e){\n        if (e.keyCode === 27){\n            $('.tutor-modal-wrap').removeClass('show');\n        }\n    });\n\n    /**\n     * Quiz Builder Modal Tabs\n     */\n    $(document).on('click', '.tutor-quiz-modal-tab-item', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n\n        var $quizTitle = $('[name=\"quiz_title\"]');\n        var quiz_title = $quizTitle.val();\n        if ( ! quiz_title){\n            $quizTitle.closest('.tutor-quiz-builder-form-row').find('.quiz_form_msg').html('<p class=\"quiz-form-warning\">Please save the quiz' +\n                ' first</p>');\n            return;\n        }else{\n            $quizTitle.closest('.tutor-quiz-builder-form-row').find('.quiz_form_msg').html('');\n        }\n\n        var tabSelector = $that.attr('href');\n        $('.quiz-builder-tab-container').hide();\n        $(tabSelector).show();\n\n        $('a.tutor-quiz-modal-tab-item').removeClass('active');\n        $that.addClass('active');\n    });\n\n    $(document).on('click', '.quiz-modal-tab-navigation-btn.quiz-modal-btn-cancel', function(e){\n        e.preventDefault();\n        $('.tutor-modal-wrap').removeClass('show');\n    });\n\n    /**\n     * Get question answers option edit form\n     *\n     * @since v.1.0.0\n     */\n    $(document).on('click', '.tutor-quiz-answer-edit a', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var answer_id = $that.closest('.tutor-quiz-answer-wrap').attr('data-answer-id');\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : {answer_id : answer_id, action : 'tutor_quiz_edit_question_answer'},\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                $('#tutor_quiz_question_answer_form').html(data.data.output);\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Saving question answers options\n     * Student should select the right answer at quiz attempts\n     *\n     * @since v.1.0.0\n     */\n\n    $(document).on('click', '#quiz-answer-save-btn', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var $formInput = $('#tutor-quiz-question-wrapper :input').serializeObject();\n        $formInput.action = 'tutor_save_quiz_answer_options';\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : $formInput,\n            beforeSend: function () {\n                $('#quiz_validation_msg_wrap').html(\"\");\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                $('#tutor_quiz_question_answers').trigger('refresh');\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Updating Answer\n     *\n     * @since v.1.0.0\n     */\n    $(document).on('click', '#quiz-answer-edit-btn', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var $formInput = $('#tutor-quiz-question-wrapper :input').serializeObject();\n        $formInput.action = 'tutor_update_quiz_answer_options';\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : $formInput,\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                $('#tutor_quiz_question_answers').trigger('refresh');\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    $(document).on('change', '.tutor-quiz-answers-mark-correct-wrap input', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n\n        var answer_id = $that.val();\n        var inputValue = 1;\n        if ( ! $that.prop('checked')) {\n            inputValue = 0;\n        }\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : {answer_id:answer_id, inputValue : inputValue, action : 'tutor_mark_answer_as_correct'},\n        });\n    });\n\n\n\n    /**\n     * Delete answer for a question in quiz builder\n     *\n     * @since v.1.0.0\n     */\n\n    $(document).on('click', '.tutor-quiz-answer-trash-wrap a.answer-trash-btn', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var answer_id = $that.attr('data-answer-id');\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : {answer_id : answer_id, action: 'tutor_quiz_builder_delete_answer'},\n            beforeSend: function () {\n                $that.closest('.tutor-quiz-answer-wrap').remove();\n            },\n        });\n    });\n\n\n    /**\n     * Delete Quiz\n     * @since v.1.0.0\n     */\n\n    $(document).on('click', '.tutor-delete-quiz-btn', function(e){\n        e.preventDefault();\n\n        if( ! confirm( __( 'Are you sure?', 'tutor' ) )){\n            return;\n        }\n\n        var $that = $(this);\n        var quiz_id = $that.attr('data-quiz-id');\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : {quiz_id : quiz_id, action: 'tutor_delete_quiz_by_id'},\n            beforeSend: function () {\n                $that.closest('.course-content-item').remove();\n            }\n        });\n    });\n\n    $(document).on('click', '.tutor-media-upload-btn', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var frame;\n        if ( frame ) {\n            frame.open();\n            return;\n        }\n        frame = wp.media({\n            title: __( 'Select or Upload Media Of Your Chosen Persuasion', 'tutor' ),\n            button: {\n                text: __( 'Use this media', 'tutor' )\n            },\n            multiple: false\n        });\n        frame.on( 'select', function() {\n            var attachment = frame.state().get('selection').first().toJSON();\n            $that.html('<img src=\"'+attachment.url+'\" alt=\"\" />');\n            $that.closest('.tutor-media-upload-wrap').find('input').val(attachment.id);\n        });\n        frame.open();\n    });\n    $(document).on('click', '.tutor-media-upload-trash', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        $that.closest('.tutor-media-upload-wrap').find('.tutor-media-upload-btn').html('<i class=\"tutor-icon-image1\"></i>');\n        $that.closest('.tutor-media-upload-wrap').find('input').val('');\n    });\n\n    /**\n     * Delay Function\n     */\n\n    var tutor_delay = (function(){\n        var timer = 0;\n        return function(callback, ms){\n            clearTimeout (timer);\n            timer = setTimeout(callback, ms);\n        };\n    })();\n\n    /**\n     * Add instructor modal\n     */\n    $(document).on('click', '.tutor-add-instructor-btn', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var course_id = $('#post_ID').val();\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : {course_id : course_id, action: 'tutor_load_instructors_modal'},\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (data.success){\n                    $('.tutor-instructors-modal-wrap .modal-container').html(data.data.output);\n                    $('.tutor-instructors-modal-wrap').addClass('show');\n                }\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    $(document).on('change keyup', '.tutor-instructors-modal-wrap .tutor-modal-search-input', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var $modal = $('.tutor-modal-wrap');\n\n        tutor_delay(function(){\n            var search_terms = $that.val();\n            var course_id = $('#post_ID').val();\n\n            $.ajax({\n                url : window._tutorobject.ajaxurl,\n                type : 'POST',\n                data : {course_id : course_id, search_terms : search_terms, action: 'tutor_load_instructors_modal'},\n                beforeSend: function () {\n                    $modal.addClass('loading');\n                },\n                success: function (data) {\n                    if (data.success){\n                        $('.tutor-instructors-modal-wrap .modal-container').html(data.data.output);\n                        $('.tutor-instructors-modal-wrap').addClass('show');\n                    }\n                },\n                complete: function () {\n                    $modal.removeClass('loading');\n                }\n            });\n\n        }, 1000)\n    });\n    $(document).on('click', '.add_instructor_to_course_btn', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var $modal = $('.tutor-modal-wrap');\n        var course_id = $('#post_ID').val();\n        \n        var data = $modal.find('input').serializeObject();\n        data.course_id = course_id;\n        data.action = 'tutor_add_instructors_to_course';\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : data,\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (data.success){\n                    $('.tutor-course-available-instructors').html(data.data.output);\n                    $('.tutor-modal-wrap').removeClass('show');\n                }\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    $(document).on('click', '.tutor-instructor-delete-btn', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var course_id = $('#post_ID').val();\n        var instructor_id = $that.closest('.added-instructor-item').attr('data-instructor-id');\n\n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : {course_id:course_id, instructor_id:instructor_id, action : 'detach_instructor_from_course'},\n            success: function (data) {\n                if (data.success){\n                    $that.closest('.added-instructor-item').remove();\n                }\n            }\n        });\n    });\n\n    $(document).on('click', '.settings-tabs-navs li', function(e){\n        e.preventDefault();\n\n        var $that = $(this);\n        var data_target = $that.find('a').attr('data-target');\n        var url = $that.find('a').attr('href');\n\n        $that.addClass('active').siblings('li.active').removeClass('active');\n        $('.settings-tab-wrap').removeClass('active').hide();\n        $(data_target).addClass('active').show();\n\n        window.history.pushState({}, '', url);\n    });\n\n    /**\n     * Re init required\n     * Modal Loaded...\n     */\n\n    $(document).on('lesson_modal_loaded quiz_modal_loaded assignment_modal_loaded', function(e, obj){\n        if (jQuery().select2){\n            $('.select2_multiselect').select2({\n                dropdownCssClass:'increasezindex'\n            });\n        }\n        load_date_picker();\n    });\n    \n    /**\n     * Tutor number validation\n     *\n     * @since v.1.6.3\n     */\n    $(document).on('keyup change', '.tutor-number-validation', function(e) {\n        var input = $(this);\n        var val = parseInt(input.val());\n        var min = parseInt(input.attr('data-min'));\n        var max = parseInt(input.attr('data-max'));\n        if ( val < min )  { \n            input.val(min);\n        } else if ( val > max ) {\n            input.val(max);\n        }\n    });\n\n    /*\n    * @since v.1.6.4\n    * Quiz Attempts Instructor Feedback \n    */\n   $(document).on('click', '.tutor-instructor-feedback', function(e) {\n\n    e.preventDefault();\n    var $that = $(this);\n    \n    $.ajax({\n        url : (window.ajaxurl || _tutorobject.ajaxurl),\n        type : 'POST',\n        data : {attempts_id: $that.data('attemptid'), feedback: $('.tutor-instructor-feedback-content').val() , action: 'tutor_instructor_feedback'},\n        beforeSend: function () {\n            $that.addClass('tutor-updating-message'); \n        },\n        success: function (data) {\n            if (data.success){\n                $that.closest('.course-content-item').remove();\n                tutor_toast(__('Success', 'tutor'), $that.data('toast_success_message'), 'success');\n            }\n        },\n        complete: function () {\n            $that.removeClass('tutor-updating-message');\n        }\n        });\n    });\n\n    /**\n     * Since 1.7.9\n     * Announcements scripts\n     */\n    var add_new_button = $(\".tutor-announcement-add-new\");\n    var update_button = $(\".tutor-announcement-edit\");\n    var delete_button = $(\".tutor-announcement-delete\");\n    var details_button = $(\".tutor-announcement-details\");\n    var close_button = $(\".tutor-announcement-close-btn\");\n    var create_modal = $(\".tutor-accouncement-create-modal\");\n    var update_modal = $(\".tutor-accouncement-update-modal\");\n    var details_modal = $(\".tutor-accouncement-details-modal\");\n    //open create modal\n    $(add_new_button).click(function(){\n      create_modal.addClass(\"show\");\n      $(\"#tutor-annoucement-backend-create-modal\").addClass('show');\n    })\n\n    $(details_button).click(function(){\n        var announcement_date = $(this).attr('announcement-date');\n        var announcement_id = $(this).attr('announcement-id');\n        var course_id = $(this).attr('course-id');\n        var course_name = $(this).attr('course-name');\n        var announcement_title = $(this).attr('announcement-title');\n        var announcement_summary = $(this).attr('announcement-summary'); \n        \n        $(\".tutor-announcement-detail-content\").html(`<h3>${announcement_title}</h3><p>${announcement_summary}</p>`);  \n        $(\".tutor-announcement-detail-course-info p\").html(`${course_name}`);     \n        $(\".tutor-announcement-detail-date-info p\").html(`${announcement_date}`); \n        //set attr on edit button\n        $(\"#tutor-announcement-edit-from-detail\").attr('announcement-id',announcement_id);    \n        $(\"#tutor-announcement-edit-from-detail\").attr('course-id',course_id);    \n        $(\"#tutor-announcement-edit-from-detail\").attr('announcement-title',announcement_title);    \n        $(\"#tutor-announcement-edit-from-detail\").attr('announcement-summary',announcement_summary);  \n        $(\"#tutor-announcement-delete-from-detail\").attr('announcement-id',announcement_id);  \n        details_modal.addClass(\"show\");\n    })\n\n    //open update modal\n    $(update_button).click(function(){\n        if(details_modal){\n            details_modal.removeClass('show');\n        }\n        var announcement_id = $(this).attr('announcement-id');\n        var course_id = $(this).attr('course-id');\n        var announcement_title = $(this).attr('announcement-title');\n        var announcement_summary = $(this).attr('announcement-summary');\n\n        $(\"#tutor-announcement-course-id\").val(course_id);\n        $(\"#announcement_id\").val(announcement_id);\n        $(\"#tutor-announcement-title\").val(announcement_title);\n        $(\"#tutor-announcement-summary\").val(announcement_summary);\n        \n        update_modal.addClass(\"show\");\n    })\n\n    //close create and update modal\n    $(close_button).click(function(){\n        create_modal.removeClass(\"show\");\n        update_modal.removeClass(\"show\");\n        details_modal.removeClass(\"show\");\n        $(\"#tutor-annoucement-backend-create-modal\").removeClass('show');\n    })\n\n    //create announcement\n    $(\".tutor-announcements-form\").on('submit',function(e){\n        e.preventDefault();\n        var $btn = $(this).find('button[type=\"submit\"]');\n        var formData = $(\".tutor-announcements-form\").serialize() + '&action=tutor_announcement_create' + '&action_type=create';\n        \n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : formData,\n            beforeSend: function() {\n                $btn.addClass('tutor-updating-message');\n            },\n            success: function(data) {\n                \n                $(\".tutor-alert\").remove();\n                \n                if(data.status==\"success\") {\n                    location.reload();\n                }\n\n                if(data.status==\"validation_error\"){\n                    $(\".tutor-announcements-create-alert\").append(`<div class=\"tutor-alert alert-warning\"></div>`);\n                    for(let [key,value] of Object.entries(data.message)){\n                        \n                        $(\".tutor-announcements-create-alert .tutor-alert\").append(`<li>${value}</li>`);\n                    }\n                }                \n                if(data.status==\"fail\"){\n                    \n                    $(\".tutor-announcements-create-alert\").html(`<li>${data.message}</li>`);\n                \n                }            \n            },\n            error: function(data){\n                console.log(data);\n            }\n        })\n    })\n    //update announcement\n    $(\".tutor-announcements-update-form\").on('submit',function(e){\n        e.preventDefault();\n        var $btn = $(this).find('button[type=\"submit\"]');\n        var formData  = $(\".tutor-announcements-update-form\").serialize() + '&action=tutor_announcement_create' + '&action_type=update';\n       \n        $.ajax({\n            url : window._tutorobject.ajaxurl,\n            type : 'POST',\n            data : formData,\n            beforeSend: function() {\n                $btn.addClass('tutor-updating-message');\n            },\n            success: function(data) {\n                \n                $(\".tutor-alert\").remove();\n                if(data.status==\"success\"){\n                    location.reload();\n                }\n                if(data.status==\"validation_error\"){\n                    $(\".tutor-announcements-update-alert\").append(`<div class=\"tutor-alert alert-warning\"></div>`);\n                    for(let [key,value] of Object.entries(data.message)){\n                        $(\".tutor-announcements-update-alert > .tutor-alert\").append(`<li>${value}</li>`);\n                    }\n                }                \n                if(data.status==\"fail\"){\n                    \n                        $(\".tutor-announcements-create-alert\").html(`<li>${data.message}</li>`);\n                \n                }  \n            },\n            error: function(){\n\n            }\n        })\n    });\n\n    $(delete_button).click(function(){\n        var announcement_id = $(this).attr('announcement-id');\n        var whichtr = $(\"#tutor-announcement-tr-\"+announcement_id);\n        if(confirm(\"Do you want to delete?\")){\n            $.ajax({\n                url : window._tutorobject.ajaxurl,\n                type : 'POST',\n                data : {action:'tutor_announcement_delete',announcement_id:announcement_id},\n                beforeSend: function() {\n                \n                },\n                success: function(data) {\n                    \n                    whichtr.remove();\n                    if(details_modal.length){\n                        details_modal.removeClass('show');\n                    }\n                    if(data.status == \"fail\"){\n                        console.log(data.message);\n                    }\n                },\n                error: function(){\n\n                }\n            })            \n        }\n    })\n    //sorting \n    // if (jQuery.datepicker){\n    //     $( \"#tutor-announcement-datepicker\" ).datepicker({\"dateFormat\" : 'yy-mm-dd'});\n    // }\n    function urlPrams(type, val){\n        var url = new URL(window.location.href);\n        var search_params = url.searchParams;\n        search_params.set(type, val);\n        \n        url.search = search_params.toString();\n        \n        search_params.set('paged', 1);\n        url.search = search_params.toString();\n\n        return url.toString();\n    }\n    $('.tutor-announcement-course-sorting').on('change', function(e){\n        window.location = urlPrams( 'course-id', $(this).val() );\n    });\n    $('.tutor-announcement-order-sorting').on('change', function(e){\n        window.location = urlPrams( 'order', $(this).val() );\n    });\n    $('.tutor-announcement-date-sorting').on('change', function(e){\n        window.location = urlPrams( 'date', $(this).val() );\n    });\n    $('.tutor-announcement-search-sorting').on('click', function(e){\n        window.location = urlPrams( 'search', $(\".tutor-announcement-search-field\").val() );\n    });\n    //dropdown toggle\n    $(document).click(function(){\n        $(\".tutor-dropdown\").removeClass('show');\n      });\n\n      $(\".tutor-dropdown\").click(function(e){\n        e.stopPropagation();\n        if ( $('.tutor-dropdown').hasClass('show') ) {\n            $('.tutor-dropdown').removeClass('show')\n        }\n        $(this).addClass('show');\n      });\n\n    //announcement end\n\n\n    \n   /**\n    * @since v.1.9.0\n    * Parse and show video duration on link paste in lesson video \n    */\n    var video_url_input = '.video_source_wrap_external_url input, .video_source_wrap_vimeo input, .video_source_wrap_youtube input, .video_source_wrap_html5, .video_source_upload_wrap_html5';\n    var autofill_url_timeout;\n    $('body').on('paste', video_url_input, function(e) {\n        e.stopImmediatePropagation();\n\n        var root = $(this).closest('.lesson-modal-form-wrap').find('.tutor-option-field-video-duration');\n        var duration_label = root.find('label');\n        var is_wp_media = $(this).hasClass('video_source_wrap_html5') || $(this).hasClass('video_source_upload_wrap_html5');\n        var autofill_url = $(this).data('autofill_url');\n        $(this).data('autofill_url', null);\n\n        var video_url = is_wp_media ? $(this).find('span').data('video_url') : (autofill_url || e.originalEvent.clipboardData.getData('text')); \n        \n        var toggle_loading = function(show) {\n\n            if(!show) {\n                duration_label.find('img').remove();\n                return;\n            }\n\n            // Show loading icon\n            if(duration_label.find('img').length==0) {\n                duration_label.append(' <img src=\"'+window._tutorobject.loading_icon_url+'\" style=\"display:inline-block\"/>');\n            }\n        }\n\n        var set_duration = function(sec_num) {\n            var hours   = Math.floor(sec_num / 3600);\n            var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n            var seconds = Math.round( sec_num - (hours * 3600) - (minutes * 60) );\n\n            if (hours   < 10) {hours   = \"0\"+hours;}\n            if (minutes < 10) {minutes = \"0\"+minutes;}\n            if (seconds < 10) {seconds = \"0\"+seconds;}\n    \n            var fragments = [hours, minutes, seconds];\n            var time_fields = root.find('input');\n            for(var i=0; i<3; i++) {\n                time_fields.eq(i).val(fragments[i]);\n            }\n        }\n        \n        var yt_to_seconds = function (duration) {\n            var match = duration.match(/PT(\\d+H)?(\\d+M)?(\\d+S)?/);\n          \n            match = match.slice(1).map(function(x) {\n                if (x != null) {\n                    return x.replace(/\\D/, '');\n                }\n            });\n          \n            var hours = (parseInt(match[0]) || 0);\n            var minutes = (parseInt(match[1]) || 0);\n            var seconds = (parseInt(match[2]) || 0);\n          \n            return hours * 3600 + minutes * 60 + seconds;\n        }\n\n        if(is_wp_media || $(this).parent().hasClass('video_source_wrap_external_url')) {\n            var player = document.createElement('video');\n            player.addEventListener('loadedmetadata', function() {\n                set_duration( player.duration );\n                toggle_loading(false);\n            });\n\n            toggle_loading(true);\n            player.src = video_url;\n\n        } else if($(this).parent().hasClass('video_source_wrap_vimeo')) {\n\n            var regExp = /^.*(vimeo\\.com\\/)((channels\\/[A-z]+\\/)|(groups\\/[A-z]+\\/videos\\/))?([0-9]+)/;\n            var match = video_url.match(regExp);\n            var video_id = match ? match[5] : null;\n\n            if(video_id) {\n                toggle_loading(true);\n\n                $.getJSON('http://vimeo.com/api/v2/video/'+video_id+'/json', function(data) {\n                    if(Array.isArray(data) && data[0] && data[0].duration!==undefined) {\n                        set_duration(data[0].duration);\n                    }\n                    \n                    toggle_loading(false);\n                });\n            }            \n        } else if($(this).parent().hasClass('video_source_wrap_youtube')) {\n            var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n            var match = video_url.match(regExp);\n            var video_id = (match && match[7].length==11) ? match[7] : false;\n            var api_key = $(this).data('youtube_api_key');\n\n            if(video_id && api_key) {\n\n                var result_url = 'https://www.googleapis.com/youtube/v3/videos?id='+video_id+'&key='+api_key+'&part=contentDetails';\n                toggle_loading(true);\n\n                $.getJSON(result_url, function(data) {\n                    if(typeof data=='object' && data.items && data.items[0] && data.items[0].contentDetails && data.items[0].contentDetails.duration) {\n                        set_duration( yt_to_seconds(data.items[0].contentDetails.duration) );\n                    }\n\n                    toggle_loading(false);\n                });\n            }\n        }\n    }).on('input', video_url_input, function() {\n\n        if(autofill_url_timeout) {\n            clearTimeout(autofill_url_timeout);\n        }\n\n        var $this = $(this);\n        autofill_url_timeout = setTimeout(function() {\n            var val = $this.val();\n            val = val ? val.trim() : '';\n            console.log('Trigger', val);\n            val ? $this.data('autofill_url', val).trigger('paste') : 0;\n        }, 700);\n    });\n\n   /**\n    * @since v.1.8.6\n    * SUbmit form through ajax\n    */\n    $('.tutor-form-submit-through-ajax').submit(function(e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var url = $(this).attr('action') || window.location.href;\n        var type = $(this).attr('method') || 'GET';\n        var data = $(this).serializeObject();\n\n        $that.find('button').addClass('tutor-updating-message');\n\n        $.ajax({\n            url: url,\n            type: type,\n            data: data,\n            success: function() {\n                tutor_toast(__('Success', 'tutor'), $that.data('toast_success_message'), 'success');\n            },\n            complete: function () {\n                $that.find('button').removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /*\n    * @since v.1.7.9\n    * Send wp nonce to every ajax request\n    */\n    $.ajaxSetup({data : tutor_get_nonce_data()});\n});\n\njQuery.fn.serializeObject = function()\n{\n   var values = {};\n   var array = this.serializeArray();\n\n   jQuery.each(array, function() {\n       if (values[this.name]) {\n           if (!values[this.name].push) {\n               values[this.name] = [values[this.name]];\n           }\n           values[this.name].push(this.value || '');\n       } else {\n           values[this.name] = this.value || '';\n       }\n   });\n\n   return values;\n};\n\nwindow.tutor_toast=function(title, description, type) {\n    var tutor_ob = window._tutorobject || {};\n    var asset = (tutor_ob.tutor_url || '') + 'assets/images/';\n\n    if(!jQuery('.tutor-toast-parent').length) {\n        jQuery('body').append('<div class=\"tutor-toast-parent\"></div>');\n    }\n\n    var icons = {\n        success : asset+'icon-check.svg',\n        error: asset+'icon-cross.svg'\n    }\n    \n    var content = jQuery('\\\n        <div>\\\n            <div>\\\n                <img src=\"'+icons[type]+'\"/>\\\n            </div>\\\n            <div>\\\n                <div>\\\n                    <b>'+title+'</b>\\\n                    <span>'+description+'</span>\\\n                </div>\\\n            </div>\\\n            <div>\\\n                <i class=\"tutor-toast-close tutor-icon-line-cross\"></i>\\\n            </div>\\\n        </div>');\n\n    content.find('.tutor-toast-close').click(function() {\n        content.remove();\n    });\n\n    jQuery('.tutor-toast-parent').append(content);\n\n    setTimeout(function() {\n        if(content) {\n            content.fadeOut('fast', function() {\n                jQuery(this).remove();\n            });\n        }\n    }, 5000);\n}","import './tutorModal';\nimport './thumbnailUploadPreview';\nimport './popupMenu';\n","(function popupMenuToggle() {\n\t/**\n\t * Popup Menu Toggle .tutor-popup-opener\n\t */\n\n\t/*\n\tconst popupToggleBtns = document.querySelectorAll('.tutor-popup-opener .popup-btn');\n\tconst popupMenus = document.querySelectorAll('.tutor-popup-opener .popup-menu');\n\n\t if (popupToggleBtns && popupMenus) {\n\t\tpopupToggleBtns.forEach((btn) => {\n\t\t\tbtn.addEventListener('click', (e) => {\n\t\t\t\tconst popupClosest = e.target.closest('.tutor-popup-opener').querySelector('.popup-menu');\n\t\t\t\tpopupClosest.classList.toggle('visible');\n\n\t\t\t\tpopupMenus.forEach((popupMenu) => {\n\t\t\t\t\tif (popupMenu !== popupClosest) {\n\t\t\t\t\t\tpopupMenu.classList.remove('visible');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tdocument.addEventListener('click', (e) => {\n\t\t\tif (!e.target.matches('.tutor-popup-opener .popup-btn')) {\n\t\t\t\tpopupMenus.forEach((popupMenu) => {\n\t\t\t\t\tif (popupMenu.classList.contains('visible')) {\n\t\t\t\t\t\tpopupMenu.classList.remove('visible');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} */\n\n\tdocument.addEventListener('click', (e) => {\n\t\tconst attr = 'data-tutor-popup-target';\n\n\t\tif (e.target.hasAttribute(attr)) {\n\t\t\te.preventDefault();\n\t\t\tconst id = e.target.hasAttribute(attr)\n\t\t\t\t? e.target.getAttribute(attr)\n\t\t\t\t: e.target.closest(`[${attr}]`).getAttribute(attr);\n\n\t\t\tconst popupMenu = document.getElementById(id);\n\n\t\t\tif (popupMenu.classList.contains('visible')) {\n\t\t\t\tpopupMenu.classList.remove('visible');\n\t\t\t} else {\n\t\t\t\tdocument.querySelectorAll('.tutor-popup-opener .popup-menu').forEach((popupMenu) => {\n\t\t\t\t\tpopupMenu.classList.remove('visible');\n\t\t\t\t});\n\t\t\t\tpopupMenu.classList.add('visible');\n\t\t\t}\n\t\t} else {\n\t\t\tdocument.querySelectorAll('.tutor-popup-opener .popup-menu').forEach((popupMenu) => {\n\t\t\t\tpopupMenu.classList.remove('visible');\n\t\t\t});\n\t\t}\n\t});\n})();\n","(function thumbnailUploadPreview() {\n\t/**\n\t * Image Preview : Logo and Signature Upload\n\t * Selector -> .tutor-option-field-input.image-previewer\n\t */\n\tconst imgPreviewers = document.querySelectorAll('.tutor-thumbnail-uploader');\n\tconst imgPreviews = document.querySelectorAll('.tutor-thumbnail-uploader img');\n\tconst imgPrevInputs = document.querySelectorAll('.tutor-thumbnail-uploader input[type=file]');\n\tconst imgPrevDelBtns = document.querySelectorAll('.tutor-thumbnail-uploader .delete-btn');\n\n\tif (imgPrevInputs && imgPrevDelBtns) {\n\t\t// Checking Img Src when document loads\n\t\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\t\timgPreviewers.forEach((previewer) => {\n\t\t\t\timgPreviews.forEach((img) => {\n\t\t\t\t\tif (img.getAttribute('src')) {\n\t\t\t\t\t\timg.closest('.image-previewer').classList.add('is-selected');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpreviewer.classList.remove('is-selected');\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.log(img);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\t// Updating Image Preview\n\t\timgPrevInputs.forEach((input) => {\n\t\t\tinput.addEventListener('change', function(e) {\n\t\t\t\tconst file = this.files[0];\n\t\t\t\tconst parentEl = input.closest('.image-previewer');\n\t\t\t\tconst targetImg = parentEl.querySelector('img');\n\t\t\t\tconst prevLoader = parentEl.querySelector('.preview-loading');\n\n\t\t\t\tif (file) {\n\t\t\t\t\tprevLoader.classList.add('is-loading');\n\t\t\t\t\tgetImageAsDataURL(file, targetImg);\n\t\t\t\t\tparentEl.classList.add('is-selected');\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tprevLoader.classList.remove('is-loading');\n\t\t\t\t\t}, 200);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Deleting Image Preview\n\t\timgPrevDelBtns.forEach((delBtn) => {\n\t\t\tdelBtn.addEventListener('click', function(e) {\n\t\t\t\tconst parentEl = this.closest('.image-previewer');\n\t\t\t\tconst targetImg = parentEl.querySelector('img');\n\n\t\t\t\ttargetImg.setAttribute('src', '');\n\t\t\t\tparentEl.classList.remove('is-selected');\n\t\t\t});\n\t\t});\n\t}\n\n\t// Get Image file as Data URL\n\tconst getImageAsDataURL = (file, imgSrc) => {\n\t\tconst reader = new FileReader();\n\t\treader.onload = function() {\n\t\t\timgSrc.setAttribute('src', this.result);\n\t\t};\n\t\treader.readAsDataURL(file);\n\t};\n})();\n","(function() {\n\t'use strict';\n\n\t// modal\n\ttutorModal();\n})();\n\nfunction tutorModal() {\n\tdocument.addEventListener('click', (e) => {\n\t\tconst attr = 'data-tutor-modal-target';\n\t\tconst closeAttr = 'data-tutor-modal-close';\n\t\tconst overlay = 'tutor-modal-overlay';\n\n\t\tif (e.target.hasAttribute(attr) || e.target.closest(`[${attr}]`)) {\n\t\t\te.preventDefault();\n\t\t\tconst id = e.target.hasAttribute(attr)\n\t\t\t\t? e.target.getAttribute(attr)\n\t\t\t\t: e.target.closest(`[${attr}]`).getAttribute(attr);\n\t\t\tconst modal = document.getElementById(id);\n\t\t\tif (modal) {\n\t\t\t\tmodal.classList.add('tutor-is-active');\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\te.target.hasAttribute(closeAttr) ||\n\t\t\te.target.classList.contains(overlay) ||\n\t\t\te.target.closest(`[${closeAttr}]`)\n\t\t) {\n\t\t\te.preventDefault();\n\t\t\tconst modal = document.querySelectorAll('.tutor-modal.tutor-is-active');\n\t\t\tmodal.forEach((m) => {\n\t\t\t\tm.classList.remove('tutor-is-active');\n\t\t\t});\n\t\t}\n\t});\n\n\t// open\n\t// const modalButton = document.querySelectorAll(\"[data-tutor-modal-target]\");\n\t// modalButton.forEach(b => {\n\t//     const id = b.getAttribute(\"data-tutor-modal-target\");\n\t//     const modal = document.getElementById(id);\n\t//     if (modal) {\n\t//         b.addEventListener(\"click\", e => {\n\t//             e.preventDefault();\n\t//             modal.classList.add(\"tutor-is-active\");\n\t//         })\n\t//     }\n\t// })\n\n\t// close\n\t// const close = document.querySelectorAll(\"[data-tutor-modal-close], .tutor-modal-overlay\");\n\t// close.forEach(c => {\n\t//     c.addEventListener(\"click\", e => {\n\t//         e.preventDefault();\n\t//         const modal = document.querySelectorAll(\".tutor-modal.tutor-is-active\");\n\t//         modal.forEach(m => {\n\t//             m.classList.remove(\"tutor-is-active\");\n\t//         })\n\t//     })\n\t// })\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../lib/common';\n\njQuery(document).ready(function ($) {\n    'use strict';\n    /**\n     * wp.i18n translateable functions \n     * @since 1.9.0\n    */\n    const { __, _x, _n, _nx } = wp.i18n;\n    /**\n     * Initiate Select2\n     * @since v.1.3.4\n     */\n    if (jQuery().select2) {\n        $('.tutor_select2').select2({\n            escapeMarkup: function (markup) {\n                return markup;\n            }\n        });\n    }\n    //END: select2\n\n\n    /*!\n     * jQuery UI Touch Punch 0.2.3\n     *\n     * Copyright 20112014, Dave Furfero\n     * Dual licensed under the MIT or GPL Version 2 licenses.\n     *\n     * Depends:\n     *  jquery.ui.widget.js\n     *  jquery.ui.mouse.js\n     */\n    !function (a) { function f(a, b) { if (!(a.originalEvent.touches.length > 1)) { a.preventDefault(); var c = a.originalEvent.changedTouches[0], d = document.createEvent(\"MouseEvents\"); d.initMouseEvent(b, !0, !0, window, 1, c.screenX, c.screenY, c.clientX, c.clientY, !1, !1, !1, !1, 0, null), a.target.dispatchEvent(d) } } if (a.support.touch = \"ontouchend\" in document, a.support.touch) { var e, b = a.ui.mouse.prototype, c = b._mouseInit, d = b._mouseDestroy; b._touchStart = function (a) { var b = this; !e && b._mouseCapture(a.originalEvent.changedTouches[0]) && (e = !0, b._touchMoved = !1, f(a, \"mouseover\"), f(a, \"mousemove\"), f(a, \"mousedown\")) }, b._touchMove = function (a) { e && (this._touchMoved = !0, f(a, \"mousemove\")) }, b._touchEnd = function (a) { e && (f(a, \"mouseup\"), f(a, \"mouseout\"), this._touchMoved || f(a, \"click\"), e = !1) }, b._mouseInit = function () { var b = this; b.element.bind({ touchstart: a.proxy(b, \"_touchStart\"), touchmove: a.proxy(b, \"_touchMove\"), touchend: a.proxy(b, \"_touchEnd\") }), c.call(b) }, b._mouseDestroy = function () { var b = this; b.element.unbind({ touchstart: a.proxy(b, \"_touchStart\"), touchmove: a.proxy(b, \"_touchMove\"), touchend: a.proxy(b, \"_touchEnd\") }), d.call(b) } } }(jQuery);\n\n    /**\n     * END jQuery UI Touch Punch\n     */\n\n    const videoPlayer = {\n        ajaxurl: window._tutorobject.ajaxurl,\n        nonce_key: window._tutorobject.nonce_key,\n        video_data: function () {\n            const video_track_data = $('#tutor_video_tracking_information').val();\n            return video_track_data ? JSON.parse(video_track_data) : {};\n        },\n        track_player: function () {\n            const that = this;\n            if (typeof Plyr !== 'undefined') {\n                const player = new Plyr('#tutorPlayer');\n                const video_data = that.video_data();\n                player.on('ready', function (event) {\n                    const instance = event.detail.plyr;\n                    const { best_watch_time } = video_data;\n                    if (best_watch_time > 0 && instance.duration > Math.round(best_watch_time)) {\n                        instance.media.currentTime = best_watch_time;\n                    }\n                    that.sync_time(instance);\n                });\n\n                let tempTimeNow = 0;\n                let intervalSeconds = 30; //Send to tutor backend about video playing time in this interval\n                player.on('timeupdate', function (event) {\n                    const instance = event.detail.plyr;\n                    const tempTimeNowInSec = (tempTimeNow / 4); //timeupdate firing 250ms interval\n                    if (tempTimeNowInSec >= intervalSeconds) {\n                        that.sync_time(instance);\n                        tempTimeNow = 0;\n                    }\n                    tempTimeNow++;\n                });\n\n                player.on('ended', function (event) {\n                    const video_data = that.video_data();\n                    const instance = event.detail.plyr;\n                    const data = { is_ended: true };\n                    that.sync_time(instance, data);\n                    if (video_data.autoload_next_course_content) {\n                        that.autoload_content();\n                    }\n                });\n            }\n        },\n        sync_time: function (instance, options) {\n            const post_id = this.video_data().post_id;\n            //TUTOR is sending about video playback information to server.\n            let data = { action: 'sync_video_playback', currentTime: instance.currentTime, duration: instance.duration, post_id };\n            data[this.nonce_key] = _tutorobject[this.nonce_key];\n            let data_send = data;\n            if (options) {\n                data_send = Object.assign(data, options);\n            }\n            $.post(this.ajaxurl, data_send);\n        },\n        autoload_content: function () {\n            const post_id = this.video_data().post_id;\n            const data = { action: 'autoload_next_course_content', post_id };\n            data[this.nonce_key] = _tutorobject[this.nonce_key];\n            $.post(this.ajaxurl, data).done(function (response) {\n                if (response.success && response.data.next_url) {\n                    location.href = response.data.next_url;\n                }\n            });\n        },\n        init: function () {\n            this.track_player();\n        }\n    };\n\n    /**\n     * Fire TUTOR video\n     * @since v.1.0.0\n     */\n    if ($('#tutorPlayer').length) {\n        videoPlayer.init();\n    }\n\n    $(document).on('change keyup paste', '.tutor_user_name', function () {\n        $(this).val(tutor_slugify($(this).val()));\n    });\n\n    function tutor_slugify(text) {\n        return text.toString().toLowerCase()\n            .replace(/\\s+/g, '-')           // Replace spaces with -\n            .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n            .replace(/\\-\\-+/g, '-')         // Replace multiple - with single -\n            .replace(/^-+/, '')             // Trim - from start of text\n            .replace(/-+$/, '');            // Trim - from end of text\n    }\n\n    function toggle_star_(star){\n        star.add(star.prevAll()).filter('i').addClass('tutor-icon-star-full').removeClass('tutor-icon-star-line');\n        star.nextAll().filter('i').removeClass('tutor-icon-star-full').addClass('tutor-icon-star-line');\n    }\n\n    /**\n     * Hover tutor rating and set value\n     */\n    $(document).on('mouseover', '.tutor-star-rating-container .tutor-star-rating-group i', function () {\n        toggle_star_($(this));\n    });\n\n    $(document).on('click', '.tutor-star-rating-container .tutor-star-rating-group i', function () {\n        var rating = $(this).attr('data-rating-value');\n        $(this).closest('.tutor-star-rating-group').find('input[name=\"tutor_rating_gen_input\"]').val(rating);\n        \n        toggle_star_($(this));\n    });\n\n    $(document).on('mouseout', '.tutor-star-rating-container .tutor-star-rating-group', function(){\n        var value = $(this).find('input[name=\"tutor_rating_gen_input\"]').val();\n        var rating = parseInt(value);\n        \n        var selected = $(this).find('[data-rating-value=\"'+rating+'\"]');\n        (rating && selected && selected.length>0) ? toggle_star_(selected) : $(this).find('i').removeClass('tutor-icon-star-full').addClass('tutor-icon-star-line');\n    });\n\n    $(document).on('click', '.tutor_submit_review_btn', function (e) {\n        e.preventDefault();\n        var $that = $(this);\n        var rating = $that.closest('form').find('input[name=\"tutor_rating_gen_input\"]').val();\n        var review = $that.closest('form').find('textarea[name=\"review\"]').val();\n        review = review.trim();\n\n        var course_id = $('input[name=\"tutor_course_id\"]').val();\n        var data = { course_id: course_id, rating: rating, review: review, action: 'tutor_place_rating' };\n\n        if(!rating || rating==0 || !review) {\n            alert(__('Rating and review required', 'tutor'));\n            return;\n        }\n\n        if (review) {\n            $.ajax({\n                url: _tutorobject.ajaxurl,\n                type: 'POST',\n                data: data,\n                beforeSend: function () {\n                    $that.addClass('updating-icon');\n                },\n                success: function (data) {\n                    var review_id = data.data.review_id;\n                    var review = data.data.review;\n                    $('.tutor-review-' + review_id + ' .review-content').html(review);\n                    \n                    // Show thank you\n                    new window.tutor_popup($, 'icon-rating', 40).popup({\n                        title: __('Thank You for Rating This Course!', 'tutor'),\n                        description : __('Your rating will now be visible in the course page', 'tutor'),\n                    });\n\n                    setTimeout(function(){\n                        location.reload();\n                    }, 3000);\n                }\n            });\n        }\n    }).on('click', '.tutor_cancel_review_btn', function() {\n        // Hide the pop up review form on cancel click\n        $(this).closest('form').hide();\n    });\n\n    $(document).on('click', '.write-course-review-link-btn', function (e) {\n        e.preventDefault();\n        $(this).siblings('.tutor-write-review-form').slideToggle();\n    });\n\n    $(document).on('click', '.tutor-ask-question-btn', function (e) {\n        e.preventDefault();\n        $('.tutor-add-question-wrap').slideToggle();\n    });\n    $(document).on('click', '.tutor_question_cancel', function (e) {\n        e.preventDefault();\n        $('.tutor-add-question-wrap').toggle();\n    });\n\n    $(document).on('submit', '#tutor-ask-question-form', function (e) {\n        e.preventDefault();\n\n        var $form = $(this);\n\n        var data = $(this).serializeObject();\n        data.action = 'tutor_ask_question';\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $form.find('.tutor_ask_question_btn').addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    $('.tutor-add-question-wrap').hide();\n                    window.location.reload();\n                }\n            },\n            complete: function () {\n                $form.find('.tutor_ask_question_btn').removeClass('updating-icon');\n            }\n        });\n    });\n\n    $(document).on('submit', '.tutor-add-answer-form', function (e) {\n        e.preventDefault();\n\n        var $form = $(this);\n        var data = $(this).serializeObject();\n        data.action = 'tutor_add_answer';\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $form.find('.tutor_add_answer_btn').addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    window.location.reload();\n                }\n            },\n            complete: function () {\n                $form.find('.tutor_add_answer_btn').removeClass('updating-icon');\n            }\n        });\n    });\n\n    $(document).on('focus', '.tutor_add_answer_textarea', function (e) {\n        e.preventDefault();\n\n        var question_id = $(this).closest('.tutor_add_answer_wrap').attr('data-question-id');\n        var conf = {\n            tinymce: {\n                wpautop: true,\n                //plugins : 'charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview',\n                toolbar1: 'bold italic underline bullist strikethrough numlist  blockquote  alignleft aligncenter alignright undo redo link unlink spellchecker fullscreen'\n            },\n        };\n        wp.editor.initialize('tutor_answer_' + question_id, conf);\n    });\n\n    $(document).on('click', '.tutor_cancel_wp_editor', function (e) {\n        e.preventDefault();\n        $(this).closest('.tutor_wp_editor_wrap').toggle();\n        $(this).closest('.tutor_add_answer_wrap').find('.tutor_wp_editor_show_btn_wrap').toggle();\n        var question_id = $(this).closest('.tutor_add_answer_wrap').attr('data-question-id');\n        wp.editor.remove('tutor_answer_' + question_id);\n    });\n\n    $(document).on('click', '.tutor_wp_editor_show_btn', function (e) {\n        e.preventDefault();\n        $(this).closest('.tutor_add_answer_wrap').find('.tutor_wp_editor_wrap').toggle();\n        $(this).closest('.tutor_wp_editor_show_btn_wrap').toggle();\n    });\n\n    /**\n     * Quiz attempt\n     */\n\n    var $tutor_quiz_time_update = $('#tutor-quiz-time-update');\n    var attempt_settings = null;\n    if ($tutor_quiz_time_update.length) {\n        attempt_settings = JSON.parse($tutor_quiz_time_update.attr('data-attempt-settings'));\n        var attempt_meta = JSON.parse($tutor_quiz_time_update.attr('data-attempt-meta'));\n\n        if (attempt_meta.time_limit.time_limit_seconds > 0) {\n            //No time Zero limit for\n            var countDownDate = new Date(attempt_settings.attempt_started_at).getTime() + (attempt_meta.time_limit.time_limit_seconds * 1000);\n            var time_now = new Date(attempt_meta.date_time_now).getTime();\n\n            var tutor_quiz_interval = setInterval(function () {\n                var distance = countDownDate - time_now;\n\n                var days = Math.floor(distance / (1000 * 60 * 60 * 24));\n                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n                var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n\n                var countdown_human = '';\n\n                if (days) {\n                    countdown_human += days + \"d \";\n                }\n                if (hours) {\n                    countdown_human += hours + \"h \";\n                }\n                if (minutes) {\n                    countdown_human += minutes + \"m \";\n                }\n                if (seconds) {\n                    countdown_human += seconds + \"s \";\n                }\n\n                if (distance < 0) {\n                    clearInterval(tutor_quiz_interval);\n                    countdown_human = \"EXPIRED\";\n                    //Set the quiz attempt to timeout in ajax\n                    if (_tutorobject.quiz_options.quiz_when_time_expires === 'autosubmit') {\n                        /**\n                         * Auto Submit\n                         */\n                        $('form#tutor-answering-quiz').submit();\n\n                    } else if (_tutorobject.quiz_options.quiz_when_time_expires === 'autoabandon') {\n                       \n                        /**\n                         *\n                         * @type {jQuery}\n                         *\n                         * Current attempt will be cancel with attempt status attempt_timeout\n                         */\n\n                        var quiz_id = $('#tutor_quiz_id').val();\n                        var tutor_quiz_remaining_time_secs = $('#tutor_quiz_remaining_time_secs').val();\n                        var quiz_timeout_data = { quiz_id: quiz_id, action: 'tutor_quiz_timeout' };\n        \n                        var att = $(\"#tutor-quiz-time-expire-wrapper\").attr('data-attempt-remaining');\n\n                        //disable buttons\n                        $(\".tutor-quiz-answer-next-btn, .tutor-quiz-submit-btn, .tutor-quiz-answer-previous-btn\").prop('disabled', true);\n\n                        //add alert text\n                        $(\".time-remaining span\").css('color', '#F44337');\n                        \n                        $.ajax({\n                            url: _tutorobject.ajaxurl,\n                            type: 'POST',\n                            data: quiz_timeout_data,\n                            success: function (data) {\n\n                                var attemptAllowed = $(\"#tutor-quiz-time-expire-wrapper\").data('attempt-allowed');\n                                var attemptRemaining = $(\"#tutor-quiz-time-expire-wrapper\").data('attempt-remaining');\n\n                                var alertDiv = \"#tutor-quiz-time-expire-wrapper .tutor-alert\";\n                                $(alertDiv).addClass('show');\n                                if ( att > 0 ) {\n                                    $(`${alertDiv} .text`).html(\n                                        __( 'Your time limit for this quiz has expired, please reattempt the quiz. Attempts remaining: '+ attemptRemaining+'/'+attemptAllowed, 'tutor' )\n                                    );                            \n                                } else {\n                                    $(alertDiv).addClass('tutor-alert-danger');\n                                    $(\"#tutor-start-quiz\").hide();\n                                    $(`${alertDiv} .text`).html(\n                                        `${__( 'Unfortunately, you are out of time and quiz attempts. ', 'tutor' )}`\n                                    );\n                                }\n\n                            },\n                            complete: function () {\n\n                            }\n                        });\n                    }\n\n                }\n                time_now = time_now + 1000;\n                $tutor_quiz_time_update.html(countdown_human);\n            }, 1000);\n        } else {\n            $tutor_quiz_time_update.closest('.time-remaining').remove();\n        }\n    }\n\n    var $quiz_start_form = $('#tutor-quiz-body form#tutor-start-quiz');\n    if ($quiz_start_form.length) {\n        if (_tutorobject.quiz_options.quiz_auto_start === '1') {\n            $quiz_start_form.submit();\n        }\n    }\n\n    /**\n     * Quiz Frontend Review Action\n     * @since 1.4.0\n     */\n    $(document).on('click', '.quiz-manual-review-action', function (e) {\n        e.preventDefault();\n        var $that = $(this),\n            attempt_id = $that.attr('data-attempt-id'),\n            attempt_answer_id = $that.attr('data-attempt-answer-id'),\n            mark_as = $that.attr('data-mark-as');\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'GET',\n            data: { action: 'review_quiz_answer', attempt_id: attempt_id, attempt_answer_id: attempt_answer_id, mark_as: mark_as },\n            beforeSend: function () {\n                $that.find('i').addClass('updating-icon');\n            },\n            success: function (data) {\n                location.reload();\n            },\n            complete: function () {\n                $that.find('i').removeClass('updating-icon');\n            }\n        });\n    });\n\n    // Quiz Review : Tooltip\n    $(\".tooltip-btn\").on(\"hover\", function (e) {\n        $(this).toggleClass(\"active\");\n    });\n\n    // tutor course content accordion\n\n    /**\n\t * Toggle topic summery\n\t * @since v.1.6.9\n\t */\n    $('.tutor-course-title h4 .toggle-information-icon').on('click', function (e) {\n        $(this).closest('.tutor-topics-in-single-lesson').find('.tutor-topics-summery').slideToggle();\n        e.stopPropagation();\n    });\n\n    $('.tutor-course-topic.tutor-active').find('.tutor-course-lessons').slideDown();\n    $('.tutor-course-title').on('click', function () {\n        var lesson = $(this).siblings('.tutor-course-lessons');\n        $(this).closest('.tutor-course-topic').toggleClass('tutor-active');\n        lesson.slideToggle();\n    });\n\n    $(document).on('click', '.tutor-topics-title h3 .toggle-information-icon', function (e) {\n        $(this).closest('.tutor-topics-in-single-lesson').find('.tutor-topics-summery').slideToggle();\n        e.stopPropagation();\n    });\n\n    $(document).on('click', '.tutor-course-wishlist-btn', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var course_id = $that.attr('data-course-id');\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: { course_id: course_id, 'action': 'tutor_course_add_to_wishlist' },\n            beforeSend: function () {\n                $that.addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    if (data.data.status === 'added') {\n                        $that.addClass('has-wish-listed');\n                    } else {\n                        $that.removeClass('has-wish-listed');\n                    }\n                } else {\n                    window.location = data.data.redirect_to;\n                }\n            },\n            complete: function () {\n                $that.removeClass('updating-icon');\n            }\n        });\n    });\n\n    /**\n     * Check if lesson has classic editor support\n     * If classic editor support, stop ajax load on the lesson page.\n     *\n     * @since v.1.0.0\n     *\n     * @updated v.1.4.0\n     */\n    if (!_tutorobject.enable_lesson_classic_editor) {\n\n        $(document).on('click', '.tutor-single-lesson-a', function (e) {\n            e.preventDefault();\n\n            var $that = $(this);\n            var lesson_id = $that.attr('data-lesson-id');\n            var $wrap = $('#tutor-single-entry-content');\n\n            $.ajax({\n                url: _tutorobject.ajaxurl,\n                type: 'POST',\n                data: { lesson_id: lesson_id, 'action': 'tutor_render_lesson_content' },\n                beforeSend: function () {\n                    var page_title = $that.find('.lesson_title').text();\n                    $('head title').text(page_title);\n                    window.history.pushState('obj', page_title, $that.attr('href'));\n                    $wrap.addClass('loading-lesson');\n                    $('.tutor-single-lesson-items').removeClass('active');\n                    $that.closest('.tutor-single-lesson-items').addClass('active');\n                },\n                success: function (data) {\n                    $wrap.html(data.data.html);\n                    videoPlayer.init();\n                    $('.tutor-lesson-sidebar').css('display', '');\n                    window.dispatchEvent(new window.Event('tutor_ajax_lesson_loaded')); // Some plugins like h5p needs notification on ajax load\n                },\n                complete: function () {\n                    $wrap.removeClass('loading-lesson');\n                }\n            });\n        });\n\n        $(document).on('click', '.sidebar-single-quiz-a', function (e) {\n            e.preventDefault();\n\n            var $that = $(this);\n            var quiz_id = $that.attr('data-quiz-id');\n            var page_title = $that.find('.lesson_title').text();\n            var $wrap = $('#tutor-single-entry-content');\n\n            $.ajax({\n                url: _tutorobject.ajaxurl,\n                type: 'POST',\n                data: { quiz_id: quiz_id, 'action': 'tutor_render_quiz_content' },\n                beforeSend: function () {\n                    $('head title').text(page_title);\n                    window.history.pushState('obj', page_title, $that.attr('href'));\n                    $wrap.addClass('loading-lesson');\n                    $('.tutor-single-lesson-items').removeClass('active');\n                    $that.closest('.tutor-single-lesson-items').addClass('active');\n                },\n                success: function (data) {\n                    $wrap.html(data.data.html);\n                    init_quiz_builder();\n                    $('.tutor-lesson-sidebar').css('display', '');\n                },\n                complete: function () {\n                    $wrap.removeClass('loading-lesson');\n                }\n            });\n        });\n    }\n\n    /**\n     * @date 05 Feb, 2019\n     */\n\n    $(document).on('click', '.tutor-lesson-sidebar-hide-bar', function (e) {\n        e.preventDefault();\n        $('.tutor-lesson-sidebar').toggle();\n        $('#tutor-single-entry-content').toggleClass(\"sidebar-hidden\");\n\n    });\n\n    $(\".tutor-tabs-btn-group a\").on('click touchstart', function (e) {\n        e.preventDefault();\n        var $that = $(this);\n        var tabSelector = $that.attr('href');\n        $('.tutor-lesson-sidebar-tab-item').hide();\n        $(tabSelector).show();\n\n        $('.tutor-tabs-btn-group a').removeClass('active');\n        $that.addClass('active');\n    });\n    /**\n     * @date 18 Feb, 2019\n     * @since v.1.0.0\n     */\n\n    function init_quiz_builder() {\n        if (jQuery().sortable) {\n            $(\".tutor-quiz-answers-wrap\").sortable({\n                handle: \".answer-sorting-bar\",\n                start: function (e, ui) {\n                    ui.placeholder.css('visibility', 'visible');\n                },\n                stop: function (e, ui) {\n                    //Sorting Stopped...\n                },\n            }).disableSelection();\n\n            $(\".quiz-draggable-rand-answers, .quiz-answer-matching-droppable\").sortable({\n                connectWith: \".quiz-answer-matching-droppable\",\n                placeholder: \"drop-hover\",\n            }).disableSelection();\n        }\n    }\n    init_quiz_builder();\n    /**\n     * Quiz view\n     * @date 22 Feb, 2019\n     * @since v.1.0.0\n     */\n\n    $(document).on('click', '.tutor-quiz-answer-next-btn, .tutor-quiz-answer-previous-btn', function (e) {\n        e.preventDefault();\n\n        // Show previous quiz if press previous button\n        if($(this).hasClass('tutor-quiz-answer-previous-btn')) {\n            $(this).closest('.quiz-attempt-single-question').hide().prev().show();\n            return;\n        }\n\n        var $that = $(this);\n        var $question_wrap = $that.closest('.quiz-attempt-single-question');\n        /**\n         * Validating required answer\n         * @type {jQuery}\n         *\n         * @since v.1.6.1\n         */\n\n        var validated = tutor_quiz_validation($question_wrap);\n        if (!validated) {\n            return;\n        }\n\n        var feedBackNext = feedback_response($question_wrap);\n        if (!feedBackNext) {\n            return;\n        }\n\n        var question_id = parseInt($that.closest('.quiz-attempt-single-question').attr('id').match(/\\d+/)[0], 10);\n\n        var next_question_id = $that.closest('.quiz-attempt-single-question').attr('data-next-question-id');\n\n        if (next_question_id) {\n            var $nextQuestion = $(next_question_id);\n            if ($nextQuestion && $nextQuestion.length) {\n                /**\n                 * check if reveal mode wait for 500ms then\n                 * hide question so that correct answer reveal\n                 * @since 1.8.10\n                */\n\n                var feedBackMode = $question_wrap.attr('data-quiz-feedback-mode');\n                if(feedBackMode === 'reveal') {\n                    setTimeout(()=>{\n                        $('.quiz-attempt-single-question').hide();\n                         $nextQuestion.show();\n                    }, \n                    800);  \n                } else {\n                    $('.quiz-attempt-single-question').hide();\n                     $nextQuestion.show();\n                }\n                \n               \n\n                /**\n                 * If pagination exists, set active class\n                 */\n\n                if ($('.tutor-quiz-questions-pagination').length) {\n                    $('.tutor-quiz-question-paginate-item').removeClass('active');\n                    $('.tutor-quiz-questions-pagination a[href=\"' + next_question_id + '\"]').addClass('active');\n                }\n\n            }\n        }\n    });\n\n    $(document).on('submit', '#tutor-answering-quiz', function (e) {\n        var $questions_wrap = $('.quiz-attempt-single-question');\n        var validated = true;\n        if ($questions_wrap.length) {\n            $questions_wrap.each(function (index, question) {\n                // !tutor_quiz_validation( $(question) ) ? validated = false : 0;\n                // !feedback_response( $(question) ) ? validated = false : 0;\n                validated = tutor_quiz_validation($(question));\n                validated = feedback_response($(question));\n\n            });\n        }\n\n        if (!validated) {\n            e.preventDefault();\n        }\n    });\n\n\n    $(document).on('click', '.tutor-quiz-question-paginate-item', function (e) {\n        e.preventDefault();\n        var $that = $(this);\n        var $question = $($that.attr('href'));\n        $('.quiz-attempt-single-question').hide();\n        $question.show();\n\n        //Active Class\n        $('.tutor-quiz-question-paginate-item').removeClass('active');\n        $that.addClass('active');\n    });\n\n    /**\n     * Limit Short Answer Question Type\n     */\n    $(document).on('keyup', 'textarea.question_type_short_answer, textarea.question_type_open_ended', function (e) {\n        var $that = $(this);\n        var value = $that.val();\n        var limit = $that.hasClass('question_type_short_answer') ? _tutorobject.quiz_options.short_answer_characters_limit : _tutorobject.quiz_options.open_ended_answer_characters_limit;\n        var remaining = limit - value.length;\n\n        if (remaining < 1) {\n            $that.val(value.substr(0, limit));\n            remaining = 0;\n        }\n        $that.closest('.tutor-quiz-answers-wrap').find('.characters_remaining').html(remaining);\n    });\n\n    /**\n     *\n     * @type {jQuery}\n     *\n     * Improved Quiz draggable answers drop accessibility\n     * Answers draggable wrap will be now same height.\n     *\n     * @since v.1.4.4\n     */\n    var countDraggableAnswers = $('.quiz-draggable-rand-answers').length;\n    if (countDraggableAnswers) {\n        $('.quiz-draggable-rand-answers').each(function () {\n            var $that = $(this);\n            var draggableDivHeight = $that.height();\n\n            $that.css({ \"height\": draggableDivHeight });\n        });\n    }\n\n\n    /**\n     * Quiz Validation Helper\n     *\n     * @since v.1.6.1\n     */\n\n    function tutor_quiz_validation($question_wrap) {\n        var validated = true;\n\n        var $required_answer_wrap = $question_wrap.find('.quiz-answer-required');\n\n        if ($required_answer_wrap.length) {\n            /**\n             * Radio field validation\n             *\n             * @type {jQuery}\n             *\n             * @since v.1.6.1\n             */\n            var $inputs = $required_answer_wrap.find('input');\n            if ($inputs.length) {\n                var $type = $inputs.attr('type');\n                if ($type === 'radio') {\n                    if ($required_answer_wrap.find('input[type=\"radio\"]:checked').length == 0) {\n                        $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('Please select an option to answer', 'tutor')}</p>`);\n                        validated = false;\n                    }\n                } else if ($type === 'checkbox') {\n                    if ($required_answer_wrap.find('input[type=\"checkbox\"]:checked').length == 0) {\n                        $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('Please select at least one option to answer.', 'tutor')}</p>`);\n                        validated = false;\n                    }\n                } else if ($type === 'text') {\n                    //Fill in the gaps if many, validation all\n                    $inputs.each(function (index, input) {\n                        if (!$(input).val().trim().length) {\n                            $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('The answer for this question is required', 'tutor')}</p>`);\n                            validated = false;\n                        }\n                    });\n                }\n\n            }\n            if ($required_answer_wrap.find('textarea').length) {\n                if ($required_answer_wrap.find('textarea').val().trim().length < 1) {\n                    $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('The answer for this question is required', 'tutor')}</p>`);\n                    validated = false;\n                }\n            }\n\n            /**\n             * Matching Question\n             */\n            var $matchingDropable = $required_answer_wrap.find('.quiz-answer-matching-droppable');\n            if ($matchingDropable.length) {\n\n                $matchingDropable.each(function (index, matching) {\n                    if (!$(matching).find('.quiz-draggable-answer-item').length) {\n                        $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('Please match all the items', 'tutor')}</p>`);\n                        validated = false;\n                    }\n                });\n            }\n        }\n\n        return validated;\n    }\n\n    function feedback_response($question_wrap) {\n        var goNext = false;\n\n        // Prepare answer array            \n        var quiz_answers = JSON.parse(atob(window.tutor_quiz_context.split('').reverse().join('')));\n        !Array.isArray(quiz_answers) ? quiz_answers=[] : 0;\n        \n        // Evaluate result\n        var feedBackMode = $question_wrap.attr('data-quiz-feedback-mode');\n        $('.wrong-right-text').remove();\n        $('.quiz-answer-input-bottom').removeClass('wrong-answer right-answer');\n\n        var validatedTrue = true;\n        var $inputs = $question_wrap.find('input');\n        var $checkedInputs = $question_wrap.find('input[type=\"radio\"]:checked, input[type=\"checkbox\"]:checked');\n\n        if (feedBackMode === 'retry') {\n            $checkedInputs.each(function () {\n                var $input = $(this);\n\n                var $type = $input.attr('type');\n                if ($type === 'radio' || $type === 'checkbox') {\n                    var isTrue = quiz_answers.indexOf($input.val())>-1; // $input.attr('data-is-correct') == '1';\n                    if ( !isTrue) {\n                        if ($input.prop(\"checked\")) {\n                            $input.closest('.quiz-answer-input-bottom').addClass('wrong-answer').append(`<span class=\"wrong-right-text\"><i class=\"tutor-icon-line-cross\"></i> ${__('Incorrect, Please try again', 'tutor')}</span>`);\n                        }\n                        validatedTrue = false;\n                    }\n                }\n            });\n\n            $inputs.each(function () {\n                var $input = $(this);\n                var $type = $input.attr('type');\n                if ($type === 'checkbox') {\n                    var isTrue = quiz_answers.indexOf($input.val())>-1; // $input.attr('data-is-correct') == '1';\n                    var checked = $input.is(':checked');\n                \n                    if (isTrue && !checked) {\n                        $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('More answer for this question is required', 'tutor')}</p>`);\n                        validatedTrue = false;\n                    }\n                }\n            });\n\n        } else if (feedBackMode === 'reveal') {\n            $checkedInputs.each(function () {\n                var $input = $(this);\n                var isTrue = quiz_answers.indexOf($input.val())>-1; // $input.attr('data-is-correct') == '1';\n                if (!isTrue) {\n                    validatedTrue = false;\n                }\n            });\n\n            $inputs.each(function () {\n                var $input = $(this);\n\n                var $type = $input.attr('type');\n                if ($type === 'radio' || $type === 'checkbox') {\n                    var isTrue = quiz_answers.indexOf($input.val())>-1; // $input.attr('data-is-correct') == '1';\n                    var checked = $input.is(':checked');\n\n                    if (isTrue) {\n                        $input.closest('.quiz-answer-input-bottom').addClass('right-answer').append(`<span class=\"wrong-right-text\"><i class=\"tutor-icon-checkbox-pen-outline\"></i>${__('Correct Answer', 'tutor')}</span>`);\n                    } else {\n                        if ($input.prop(\"checked\")) {\n                            $input.closest('.quiz-answer-input-bottom').addClass('wrong-answer');\n                        }\n                    }\n\n                    if (isTrue && !checked) {\n                        $input.attr('disabled','disabled');\n                        validatedTrue = false;\n                        goNext = true;\n                    }\n                }\n            });\n        }\n        \n        if (validatedTrue) {\n            goNext = true;\n        }\n\n        return goNext;\n    }\n\n\n    /**\n     * Add to cart in guest mode, show login form\n     *\n     * @since v.1.0.4\n     */\n\n    $(document).on('submit click', '.cart-required-login, .cart-required-login a, .cart-required-login form', function (e) {\n        e.preventDefault();\n\n        var login_url = $(this).data('login_page_url');\n        login_url ? window.location.assign(login_url) : $('.tutor-cart-box-login-form').fadeIn(100);\n    });\n\n    $('.tutor-popup-form-close, .login-overlay-close').on('click', function () {\n        $('.tutor-cart-box-login-form').fadeOut(100);\n    });\n\n    $(document).on('keyup', function (e) {\n        if (e.keyCode === 27) {\n            $('.tutor-frontend-modal').hide();\n            $('.tutor-cart-box-login-form').fadeOut(100);\n        }\n    });\n    /**\n     * Share Link enable\n     *\n     * @since v.1.0.4\n     */\n    if ($.fn.ShareLink) {\n        var $social_share_wrap = $('.tutor-social-share-wrap');\n        if ($social_share_wrap.length) {\n            var share_config = JSON.parse($social_share_wrap.attr('data-social-share-config'));\n\n            $('.tutor_share').ShareLink({\n                title: share_config.title,\n                text: share_config.text,\n                image: share_config.image,\n                class_prefix: 's_',\n                width: 640,\n                height: 480,\n            });\n        }\n    }\n\n    /**\n     * Datepicker initiate\n     *\n     * @since v.1.1.2\n     */\n    if (jQuery.datepicker) {\n        $(\".tutor_report_datepicker\").datepicker({ \"dateFormat\": 'yy-mm-dd' });\n    }\n\n\n    /**\n     * Withdraw Form Tab/Toggle\n     *\n     * @since v.1.1.2\n     */\n\n    $(\".withdraw-method-select-input\").on('change', function (e) {\n        var $that = $(this);\n        $('.withdraw-method-form').hide();\n        $('#withdraw-method-form-' + $that.closest('.withdraw-method-select').attr('data-withdraw-method')).show();\n    });\n\n    $('.withdraw-method-select-input').each(function () {\n        var $that = $(this);\n        if ($that.is(\":checked\")) {\n            $('.withdraw-method-form').hide();\n            $('#withdraw-method-form-' + $that.closest('.withdraw-method-select').attr('data-withdraw-method')).show();\n        }\n    });\n\n\n\n    /**\n     * Setting account for withdraw earning\n     *\n     * @since v.1.2.0\n     */\n    $(document).on('submit', '#tutor-withdraw-account-set-form', function (e) {\n        e.preventDefault();\n\n        var $form = $(this);\n        var $btn = $form.find('.tutor_set_withdraw_account_btn');\n        var data = $form.serializeObject();\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $form.find('.tutor-success-msg').remove();\n                $btn.addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    var successMsg = '<div class=\"tutor-success-msg\" style=\"display: none;\"><i class=\"tutor-icon-mark\"></i> ' + data.data.msg + ' </div>';\n                    $btn.closest('.withdraw-account-save-btn-wrap').append(successMsg);\n                    if ($form.find('.tutor-success-msg').length) {\n                        $form.find('.tutor-success-msg').slideDown();\n                    }\n                    setTimeout(function () {\n                        $form.find('.tutor-success-msg').slideUp();\n                    }, 5000)\n                }\n            },\n            complete: function () {\n                $btn.removeClass('updating-icon');\n            }\n        });\n    });\n\n    /**\n     * Make Withdraw Form\n     *\n     * @since v.1.2.0\n     */\n\n    $(document).on('click', '.open-withdraw-form-btn, .close-withdraw-form-btn', function (e) {\n        e.preventDefault();\n\n        if($(this).data('reload')=='yes'){\n            window.location.reload();\n            return;\n        }\n\n        $('.tutor-earning-withdraw-form-wrap').toggle().find('[name=\"tutor_withdraw_amount\"]').val('');\n        $('.tutor-withdrawal-pop-up-success').hide().next().show();\n        $('html, body').css('overflow', ($('.tutor-earning-withdraw-form-wrap').is(':visible') ? 'hidden' : 'auto'));\n    });\n\n    $(document).on('submit', '#tutor-earning-withdraw-form', function (e) {\n        e.preventDefault();\n\n        var $form = $(this);\n        var $btn = $('#tutor-earning-withdraw-btn');\n        var $responseDiv = $('.tutor-withdraw-form-response');\n        var data = $form.serializeObject();\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $form.find('.tutor-success-msg').remove();\n                $btn.addClass('updating-icon');\n            },\n            success: function (data) {\n                var Msg;\n                if (data.success) {\n\n                    if (data.data.available_balance !== 'undefined') {\n                        $('.withdraw-balance-col .available_balance').html(data.data.available_balance);\n                    }\n\n                    $('.tutor-withdrawal-pop-up-success').show().next().hide();\n\n                } else {\n                    Msg = '<div class=\"tutor-error-msg inline-image-text is-inline-block\">\\\n                            <img src=\"'+window._tutorobject.tutor_url+'assets/images/icon-cross.svg\"/> \\\n                            <div>\\\n                                <b>Error</b><br/>\\\n                                <span>'+ data.data.msg + '</span>\\\n                            </div>\\\n                        </div>';\n\n                    $responseDiv.html(Msg);\n                    setTimeout(function () {\n                        $responseDiv.html('');\n                    }, 5000)\n                }\n            },\n            complete: function () {\n                $btn.removeClass('updating-icon');\n            }\n        });\n    });\n\n    var frontEndModal = $('.tutor-frontend-modal');\n    frontEndModal.each(function () {\n        var modal = $(this),\n            action = $(this).data('popup-rel');\n        $('[href=\"' + action + '\"]').on('click', function (e) {\n            modal.fadeIn();\n            e.preventDefault();\n        });\n    });\n    $(document).on('click', '.tm-close, .tutor-frontend-modal-overlay, .tutor-modal-btn-cancel', function () {\n        frontEndModal.fadeOut();\n    });\n\n    /**\n     * Delete Course\n     */\n    $(document).on('click', '.tutor-dashboard-element-delete-btn', function (e) {\n        e.preventDefault();\n        var element_id = $(this).attr('data-id');\n        $('#tutor-dashboard-delete-element-id').val(element_id);\n    });\n    $(document).on('submit', '#tutor-dashboard-delete-element-form', function (e) {\n        e.preventDefault();\n\n        var element_id = $('#tutor-dashboard-delete-element-id').val();\n        var $btn = $('.tutor-modal-element-delete-btn');\n        var data = $(this).serializeObject();\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $btn.addClass('updating-icon');\n            },\n            success: function (res) {\n                if (res.success) {\n                    $('#tutor-dashboard-' + res.data.element + '-' + element_id).remove();\n                }\n            },\n            complete: function () {\n                $btn.removeClass('updating-icon');\n                $('.tutor-frontend-modal').hide();\n            }\n        });\n    });\n\n    /**\n     * Frontend Profile\n     */\n\n    if (!$('#tutor_profile_photo_id').val()) {\n        $('.tutor-profile-photo-delete-btn').hide();\n    }\n\n    $(document).on('click', '.tutor-profile-photo-delete-btn', function () {\n        $('.tutor-profile-photo-upload-wrap').find('img').attr('src', _tutorobject.placeholder_img_src);\n        $('#tutor_profile_photo_id').val('');\n        $('.tutor-profile-photo-delete-btn').hide();\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: { 'action': 'tutor_profile_photo_remove' },\n        });\n\n        return false;\n    });\n\n    /**\n     * Assignment\n     *\n     * @since v.1.3.3\n     */\n    $(document).on('submit', '#tutor_assignment_start_form', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var form_data = $that.serializeObject();\n        form_data.action = 'tutor_start_assignment';\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: form_data,\n            beforeSend: function () {\n                $('#tutor_assignment_start_btn').addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    location.reload();\n                }\n            },\n            complete: function () {\n                $('#tutor_assignment_start_btn').removeClass('updating-icon');\n            }\n        });\n    });\n\n    /**\n     * Assignment answer validation\n     */\n    $(document).on('submit', '#tutor_assignment_submit_form', function (e) {\n        var assignment_answer = $('textarea[name=\"assignment_answer\"]').val();\n        if (assignment_answer.trim().length < 1) {\n            $('#form_validation_response').html('<div class=\"tutor-error-msg\">' + __('Assignment answer can not be empty', 'tutor') + '</div>');\n            e.preventDefault();\n        }\n    });\n\n    /**\n     * Course builder video\n     * @since v.1.3.4\n     */\n\n\n    $(document).on('click', '.video_source_upload_wrap_html5 .video_upload_btn', function (event) {\n        event.preventDefault();\n\n        var $that = $(this);\n        var frame;\n        // If the media frame already exists, reopen it.\n        if (frame) {\n            frame.open();\n            return;\n        }\n        frame = wp.media({\n            title: __( 'Select / Upload Media Of Your Chosen Persuasion', 'tutor' ),\n            button: {\n                text: __( 'Use media', 'tutor' )\n            },\n            library: { type: 'video' },\n            multiple: false  // Set to true to allow multiple files to be selected\n        });\n        frame.on('select', function () {\n            // Get media attachment details from the frame state\n            var attachment = frame.state().get('selection').first().toJSON();\n            $that.closest('.video_source_upload_wrap_html5').find('span.video_media_id').data('video_url', attachment.url).text(attachment.id).trigger('paste').closest('p').show();\n            $that.closest('.video_source_upload_wrap_html5').find('input').val(attachment.id);\n        });\n        frame.open();\n    });\n\n    /**\n     * END: Tutor Course builder JS\n     */\n\n    /**\n     * Single Assignment Upload Button\n     * @since v.1.3.4\n     */\n    $('form').on('change', '.tutor-assignment-file-upload', function () {\n        $(this).siblings(\"label\").find('span').html($(this).val().replace(/.*(\\/|\\\\)/, ''));\n    });\n\n    /**\n     * Lesson Sidebar Topic Toggle\n     * @since v.1.3.4\n     */\n\n    $(document).on('click', '.tutor-topics-in-single-lesson .tutor-topics-title h3, .tutor-single-lesson-topic-toggle', function (e) {\n        var $that = $(this);\n        var $parent = $that.closest('.tutor-topics-in-single-lesson');\n        $parent.toggleClass('tutor-topic-active');\n        $parent.find('.tutor-lessons-under-topic').slideToggle();\n    });\n\n    $('.tutor-single-lesson-items.active').closest('.tutor-lessons-under-topic').show();\n    $('.tutor-single-lesson-items.active').closest('.tutor-topics-in-single-lesson').addClass('tutor-topic-active');\n    $('.tutor-course-lesson.active').closest('.tutor-lessons-under-topic').show();\n\n\n    /**\n     * Add Assignment\n     */\n    $(document).on('click', '.add-assignment-attachments', function (event) {\n        event.preventDefault();\n\n        var $that = $(this);\n        var frame;\n        // If the media frame already exists, reopen it.\n        if (frame) {\n            frame.open();\n            return;\n        }\n\n        // Create a new media frame\n        frame = wp.media({\n            title: __( 'Select / Upload Media Of Your Chosen Persuasion', 'tutor' ),\n            button: {\n                text: __( 'Use media', 'tutor' )\n            },\n            multiple: false  // Set to true to allow multiple files to be selected\n        });\n\n        // When an image is selected in the media frame...\n        frame.on('select', function () {\n            // Get media attachment details from the frame state\n            var attachment = frame.state().get('selection').first().toJSON();\n\n            var field_markup = '<div class=\"tutor-individual-attachment-file\"><p class=\"attachment-file-name\">' + attachment.filename + '</p><input type=\"hidden\" name=\"tutor_assignment_attachments[]\" value=\"' + attachment.id + '\"><a href=\"javascript:;\" class=\"remove-assignment-attachment-a text-muted\"> &times; Remove</a></div>';\n\n            $('#assignment-attached-file').append(field_markup);\n            $that.closest('.video_source_upload_wrap_html5').find('input').val(attachment.id);\n        });\n        \n        // Finally, open the modal on click\n        frame.open();\n    });\n\n    $(document).on('click', '.remove-assignment-attachment-a', function (event) {\n        event.preventDefault();\n        $(this).closest('.tutor-individual-attachment-file').remove();\n    });\n\n\n    /**\n     *\n     * @type {jQuery}\n     *\n     * Course builder auto draft save\n     *\n     * @since v.1.3.4\n     */\n    var tutor_course_builder = $('input[name=\"tutor_action\"]').val();\n    if (tutor_course_builder === 'tutor_add_course_builder') {\n        setInterval(auto_draft_save_course_builder, 30000);\n    }\n\n    function auto_draft_save_course_builder() {\n        \n        var form_data = $('form#tutor-frontend-course-builder').serializeObject();\n        form_data.tutor_ajax_action = 'tutor_course_builder_draft_save';\n\n        $.ajax({\n            //url : _tutorobject.ajaxurl,\n            type: 'POST',\n            data: form_data,\n            beforeSend: function () {\n                $('.tutor-dashboard-builder-draft-btn span').text( __( 'Saving...', 'tutor' ) );\n            },\n            success: function (data) {\n\n            },\n            complete: function () {\n                $('.tutor-dashboard-builder-draft-btn span').text( __( 'Save', 'tutor' ) );\n            }\n        });\n    }\n\n    /**\n     *\n     * @type {jQuery}\n     *\n     * Course builder section toggle\n     *\n     * @since v.1.3.5\n     */\n\n    $('.tutor-course-builder-section-title').on('click', function () {\n        if ($(this).find('i').hasClass(\"tutor-icon-up\")) {\n            $(this).find('i').removeClass('tutor-icon-up').addClass('tutor-icon-down');\n        } else {\n            $(this).find('i').removeClass('tutor-icon-down').addClass('tutor-icon-up');\n        }\n        $(this).next('div').slideToggle();\n    });\n\n    /**\n     * Open Tutor Modal to edit review\n     * @since v.1.4.0\n     */\n    $(document).on('click', '.open-tutor-edit-review-modal', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var review_id = $that.attr('data-review-id');\n\n        var nonce_key = _tutorobject.nonce_key;\n\n        var json_data = { review_id: review_id, action: 'tutor_load_edit_review_modal' };\n        json_data[nonce_key] = _tutorobject[nonce_key];\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: json_data,\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (typeof data.data !== 'undefined') {\n                    $('.tutor-edit-review-modal-wrap .modal-container').html(data.data.output);\n                    $('.tutor-edit-review-modal-wrap').attr('data-review-id', review_id).addClass('show');\n                }\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Update the rating\n     * @since v.1.4.0\n     */\n    $(document).on('submit', '#tutor_update_review_form', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var review_id = $that.closest('.tutor-edit-review-modal-wrap ').attr('data-review-id');\n\n        var nonce_key = _tutorobject.nonce_key;\n\n        var rating = $that.find('input[name=\"tutor_rating_gen_input\"]').val();\n        var review = $that.find('textarea[name=\"review\"]').val();\n        review = review.trim();\n\n        var json_data = { review_id: review_id, rating: rating, review: review, action: 'tutor_update_review_modal' };\n        json_data[nonce_key] = _tutorobject[nonce_key];\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: json_data,\n            beforeSend: function () {\n                $that.find('button[type=\"submit\"]').addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (data.success) {\n                    //Close the modal\n                    $('.tutor-edit-review-modal-wrap').removeClass('show');\n                    location.reload(true);\n                }\n            },\n            complete: function () {\n                $that.find('button[type=\"submit\"]').removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Profile photo upload\n     * @since v.1.4.5\n     */\n\n    $(document).on('click', '#tutor_profile_photo_button', function (e) {\n        e.preventDefault();\n\n        $('#tutor_profile_photo_file').trigger('click');\n    });\n\n    $(document).on('change', '#tutor_profile_photo_file', function (event) {\n        event.preventDefault();\n\n        var $file = this;\n        if ($file.files && $file.files[0]) {\n            var reader = new FileReader();\n            reader.onload = function (e) {\n                $('.tutor-profile-photo-upload-wrap').find('img').attr('src', e.target.result);\n            }\n            reader.readAsDataURL($file.files[0]);\n        }\n    });\n\n    /**\n     * Addon, Tutor BuddyPress\n     * Retrieve MetaInformation on BuddyPress message system\n     * @for TutorLMS Pro\n     * @since v.1.4.8\n     */\n\n    $(document).on('click', '.thread-content .subject', function (e) {\n        var $btn = $(this);\n\n        var thread_id = parseInt($btn.closest('.thread-content').attr('data-thread-id'));\n\n        var nonce_key = _tutorobject.nonce_key;\n        var json_data = { thread_id: thread_id, action: 'tutor_bp_retrieve_user_records_for_thread' };\n        json_data[nonce_key] = _tutorobject[nonce_key];\n\n        $.ajax({\n            type: 'POST',\n            url: window._tutorobject.ajaxurl,\n            data: json_data,\n            beforeSend: function () {\n                $('#tutor-bp-thread-wrap').html('');\n            },\n            success: function (data) {\n                if (data.success) {\n                    $('#tutor-bp-thread-wrap').html(data.data.thread_head_html);\n                    tutor_bp_setting_enrolled_courses_list();\n                }\n            }\n        });\n\n    });\n\n\n    function tutor_bp_setting_enrolled_courses_list() {\n        $('ul.tutor-bp-enrolled-course-list').each(function () {\n            var $that = $(this);\n            var $li = $that.find(' > li');\n            var itemShow = 3;\n\n            if ($li.length > itemShow) {\n                var plusCourseCount = $li.length - itemShow;\n                $li.each(function (liIndex, liItem) {\n                    var $liItem = $(this);\n\n                    if (liIndex >= itemShow) {\n                        $liItem.hide();\n                    }\n                });\n\n                var infoHtml = '<a href=\"javascript:;\" class=\"tutor_bp_plus_courses\"><strong>+' + plusCourseCount + ' More </strong></a> Courses';\n                $that.closest('.tutor-bp-enrolled-courses-wrap').find('.thread-participant-enrolled-info').html(infoHtml);\n            }\n\n            $that.show();\n        });\n    }\n    tutor_bp_setting_enrolled_courses_list();\n\n    $(document).on('click', 'a.tutor_bp_plus_courses', function (e) {\n        e.preventDefault();\n\n        var $btn = $(this);\n        $btn.closest('.tutor-bp-enrolled-courses-wrap').find('.tutor-bp-enrolled-course-list li').show();\n        $btn.closest('.thread-participant-enrolled-info').html('');\n    });\n\n\n    /**\n     * Addon, Tutor Certificate\n     * Certificate dropdown content and copy link\n     * @for TutorLMS Pro\n     * @since v.1.5.1\n     */\n    //$(document).on('click', '.tutor-dropbtn', function (e) {\n    $('.tutor-dropbtn').click(function(){\n       \n        var $content = $(this).parent().find(\".tutor-dropdown-content\");\n        $content.slideToggle(100);\n    })\n\n\n    //$(document).on('click', '.tutor-copy-link', function (e) {\n    $('.tutor-copy-link').click(function (e) {\n        var $btn = $(this);\n        var copy = '<i class=\"tutor-icon-copy\"></i> Copy Link';\n        var copied = '<i class=\"tutor-icon-mark\"></i> Copied';\n        var dummy = document.createElement('input'),\n            text = window.location.href;\n        document.body.appendChild(dummy);\n        dummy.value = text;\n        dummy.select();\n        document.execCommand('copy');\n        document.body.removeChild(dummy);\n        $btn.html(copied);\n        setTimeout(function () {\n            $btn.html(copy);\n        }, 2500);\n    });\n    \n    $(document).on('click', function (e) {\n        var container = $(\".tutor-dropdown\");\n        var $content = container.find('.tutor-dropdown-content');\n        // if the target of the click isn't the container nor a descendant of the container\n        if (!container.is(e.target) && container.has(e.target).length === 0) {\n            $content.slideUp(100);\n        }\n    });\n\n\n    /**\n     * Tutor ajax login\n     *\n     * @since v.1.6.3\n     */\n    $(document).on('submit', '.tutor-login-form-wrap #loginform', function (e) {\n        e.preventDefault();\n        \n        var $that = $(this);\n        var $form_wrapper = $('.tutor-login-form-wrap');\n\n        var form_data = $that.serializeObject();\n        form_data.action = 'tutor_user_login';\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: form_data,\n            success: function (response) {\n                if (response.success) {\n                    location.assign(response.data.redirect);\n                    location.reload();\n                } else {\n                    var error_message = response.data || __('Invalid username or password!', 'tutor');\n                    if ($form_wrapper.find('.tutor-alert').length) {\n                        $form_wrapper.find('.tutor-alert').html(error_message);\n                    } else {\n                        $form_wrapper.prepend('<div class=\"tutor-alert tutor-alert-warning\">' + error_message + '</div>');\n                    }\n                }\n            },\n        });\n    });\n\n    /**\n     * Show hide is course public checkbox (frontend dashboard editor)\n     * \n     * @since  v.1.7.2\n    */\n    var price_type = $('.tutor-frontend-builder-course-price [name=\"tutor_course_price_type\"]');\n    if(price_type.length==0){\n        $('#_tutor_is_course_public_meta_checkbox').show();\n    }\n    else{\n        price_type.change(function(){\n            if($(this).prop('checked')){\n                var method = $(this).val()=='paid' ? 'hide' : 'show';\n                $('#_tutor_is_course_public_meta_checkbox')[method]();\n            }\n        }).trigger('change');\n    }\n    \n    /**\n     * Withdrawal page tooltip\n     * \n     * @since  v.1.7.4\n    */\n    // Fully accessible tooltip jQuery plugin with delegation.\n    // Ideal for view containers that may re-render content.\n    (function ($) {\n        $.fn.tutor_tooltip = function () {\n        this\n    \n        // Delegate to tooltip, Hide if tooltip receives mouse or is clicked (tooltip may stick if parent has focus)\n            .on('mouseenter click', '.tooltip', function (e) {\n            e.stopPropagation();\n            $(this).removeClass('isVisible');\n            })\n            // Delegate to parent of tooltip, Show tooltip if parent receives mouse or focus\n            .on('mouseenter focus', ':has(>.tooltip)', function (e) {\n            if (!$(this).prop('disabled')) { // IE 8 fix to prevent tooltip on `disabled` elements\n                $(this)\n                .find('.tooltip')\n                .addClass('isVisible');\n            }\n            })\n            // Delegate to parent of tooltip, Hide tooltip if parent loses mouse or focus\n            .on('mouseleave blur keydown', ':has(>.tooltip)', function (e) {\n            if (e.type === 'keydown') {\n                if(e.which === 27) {\n                $(this)\n                    .find('.tooltip')\n                    .removeClass('isVisible');\n                }\n            } else {\n                $(this)\n                .find('.tooltip')\n                .removeClass('isVisible');\n            }\n            });\n        return this;\n        };\n    }(jQuery));\n    \n    // Bind event listener to container element\n    jQuery('.tutor-tooltip-inside').tutor_tooltip();\n    \n\n    \n    /**\n     * Manage course filter\n     * \n     * @since  v.1.7.2\n    */\n    var filter_container = $('.tutor-course-filter-container form');\n    var loop_container = $('.tutor-course-filter-loop-container');\n    var filter_modifier = {};\n    \n    // Sidebar checkbox value change\n    filter_container.on('submit', function(e) {\n        e.preventDefault();\n    })\n    .find('input').change(function(e){\n        \n        var filter_criteria = Object.assign( filter_container.serializeObject(), filter_modifier);\n        filter_criteria.action = 'tutor_course_filter_ajax';\n\n        loop_container.html('<center><img src=\"'+window._tutorobject.loading_icon_url+'\"/></center>');\n        $(this).closest('form').find('.tutor-clear-all-filter').show();\n\n        $.ajax({\n            url:window._tutorobject.ajaxurl,\n            type:'POST',\n            data:filter_criteria,\n            success:function(r) {\n                loop_container.html(r).find('.tutor-pagination-wrap a').each(function(){\n                    $(this).attr('data-href', $(this).attr('href')).attr('href', '#');\n                });\n            }\n        })\n    });\n\n    // Alter pagination\n    loop_container.on('click', '.tutor-pagination-wrap a', function(e){\n        var url = $(this).data('href') || $(this).attr('href');\n\n        if(url){\n            url = new URL(url);\n            var page = url.searchParams.get(\"paged\");\n            \n            if(page){\n                e.preventDefault();\n                filter_modifier.page = page;\n                filter_container.find('input:first').trigger('change');\n            }\n        }\n    });\n\n    // Alter sort filter\n    loop_container.on('change', 'select[name=\"tutor_course_filter\"]', function() {\n        filter_modifier.tutor_course_filter = $(this).val();\n        filter_container.find('input:first').trigger('change');\n    });\n\n    // Refresh page after coming back to course archive page from cart\n    var archive_loop = $('.tutor-course-loop');\n    if(archive_loop.length>0){\n        window.sessionStorage.getItem('tutor_refresh_archive')==='yes' ? window.location.reload() : 0;\n        window.sessionStorage.removeItem('tutor_refresh_archive');\n        archive_loop.on('click', '.tutor-loop-cart-btn-wrap', function(){\n            window.sessionStorage.setItem('tutor_refresh_archive', 'yes');\n        });\n    }\n    \n    /**\n     * Profile Photo and Cover Photo editor\n     * \n     * @since  v.1.7.5\n    */\n    var PhotoEditor=function(photo_editor){\n\n        this.dialogue_box = photo_editor.find('#tutor_photo_dialogue_box');\n\n        \n        this.open_dialogue_box = function(name){\n            this.dialogue_box.attr('name', name);\n            this.dialogue_box.trigger('click');\n        }\n\n        this.validate_image = function(file){\n            return true;\n        }\n\n        this.upload_selected_image = function(name, file){\n            if(!file || !this.validate_image(file)){\n                return;\n            }\n\n            var nonce = tutor_get_nonce_data(true);\n\n            var context = this;\n            context.toggle_loader(name, true);\n\n            // Prepare payload to upload\n            var form_data = new FormData();\n            form_data.append('action', 'tutor_user_photo_upload');\n            form_data.append('photo_type', name);\n            form_data.append('photo_file', file, file.name);\n            form_data.append(nonce.key, nonce.value);\n            \n            $.ajax({\n                url:window._tutorobject.ajaxurl,\n                data:form_data,\n                type:'POST',\n                processData: false,\n                contentType: false,\n                error:context.error_alert,\n                complete:function(){\n                    context.toggle_loader(name, false);\n                }\n            })\n        }\n\n        this.accept_upload_image=function(context, e){\n            var file = e.currentTarget.files[0] || null;\n            context.update_preview(e.currentTarget.name, file);\n            context.upload_selected_image(e.currentTarget.name, file);\n            $(e.currentTarget).val('');\n        }\n\n        this.delete_image=function(name){\n            var context = this;\n            context.toggle_loader(name, true);\n            \n            $.ajax({\n                url:window._tutorobject.ajaxurl,\n                data:{action:'tutor_user_photo_remove', photo_type:name},\n                type:'POST',\n                error:context.error_alert,\n                complete:function(){\n                    context.toggle_loader(name, false);\n                }\n            });\n        }\n\n        this.update_preview=function(name, file){\n            var renderer = photo_editor.find(name=='cover_photo' ? '#tutor_cover_area' : '#tutor_profile_area');\n\n            if(!file){\n                renderer.css('background-image', 'url('+renderer.data('fallback')+')');\n                this.delete_image(name);\n                return;\n            }\n            \n            var reader = new FileReader();\n            reader.onload = function(e) {\n                renderer.css('background-image', 'url('+e.target.result+')');\n            }\n            \n            reader.readAsDataURL(file); \n        }\n\n        this.toggle_profile_pic_action=function(show){\n            var method = show===undefined ? 'toggleClass' : (show ? 'addClass' : 'removeClass');\n            photo_editor[method]('pop-up-opened');\n        }\n\n        this.error_alert=function(){\n            alert('Something Went Wrong.');\n        }\n\n        this.toggle_loader = function(name, show){\n            photo_editor.find('#tutor_photo_meta_area .loader-area').css('display', (show ? 'block' : 'none'));\n        }\n\n        this.initialize = function(){\n            var context = this;\n\n            this.dialogue_box.change(function(e){context.accept_upload_image(context, e)});\n\n            photo_editor.find('#tutor_profile_area .tutor_overlay, #tutor_pp_option>div:last-child').click(function(){context.toggle_profile_pic_action()});\n\n            // Upload new\n            photo_editor.find('.tutor_cover_uploader').click(function(){context.open_dialogue_box('cover_photo')});\n            photo_editor.find('.tutor_pp_uploader').click(function(){context.open_dialogue_box('profile_photo')});\n\n            // Delete existing\n            photo_editor.find('.tutor_cover_deleter').click(function(){context.update_preview('cover_photo', null)});\n            photo_editor.find('.tutor_pp_deleter').click(function(){context.update_preview('profile_photo', null)});\n        }\n    }\n\n    var photo_editor = $('#tutor_profile_cover_photo_editor');\n    photo_editor.length>0 ? new PhotoEditor(photo_editor).initialize() : 0;\n\n\n    /**\n     * \n     * Instructor list filter\n     * \n     * @since  v.1.8.4\n    */\n    // Get values on course category selection\n    $('.tutor-instructor-filter').each(function() {\n\n        var root = $(this);\n        var filter_args = {}; \n        var time_out;\n\n        function run_instructor_filter(name, value, page_number) {\n\n            // Prepare http payload\n            var result_container = root.find('.filter-result-container');\n            var html_cache = result_container.html();\n            var attributes = root.data();\n            attributes.current_page = page_number || 1;\n\n            name ? filter_args[name] = value : filter_args = {};\n            filter_args.attributes = attributes;\n            filter_args.action = 'load_filtered_instructor';\n            \n            // Show loading icon\n            result_container.html('<div style=\"text-align:center\"><img src=\"'+window._tutorobject.loading_icon_url+'\"/></div>');\n\n            $.ajax({\n                url: window._tutorobject.ajaxurl,\n                data: filter_args,\n                type: 'POST',\n                success: function(r) {\n                    result_container.html(r);\n                },\n                error: function() {\n                    result_container.html(html_cache);\n                    tutor_toast('Failed', 'Request Error', 'error');\n                }\n            })\n        }\n\n        root.on('change', '.course-category-filter [type=\"checkbox\"]', function() {\n\n            var values = {};\n\n            $(this).closest('.course-category-filter').find('input:checked').each(function() {\n                values[$(this).val()] = $(this).parent().text();\n            });\n\n            // Show selected cat list\n            var cat_parent = root.find('.selected-cate-list').empty();\n            var cat_ids = Object.keys(values);\n\n            cat_ids.forEach(function(value) {\n                cat_parent.append('<span>'+values[value]+' <span class=\"tutor-icon-line-cross\" data-cat_id=\"'+value+'\"></span></span>');\n            });\n\n            cat_ids.length ? cat_parent.append('<span data-cat_id=\"0\">Clear All</span>') : 0;\n\n            run_instructor_filter($(this).attr('name'), cat_ids);\n        })\n        .on('click', '.selected-cate-list [data-cat_id]', function() {\n\n            var id = $(this).data('cat_id');\n            var inputs = root.find('.mobile-filter-popup [type=\"checkbox\"]');\n            id ? inputs = inputs.filter('[value=\"'+id+'\"]') : 0;\n            \n            inputs.prop('checked', false).trigger('change');\n        })\n        .on('input', '.filter-pc [name=\"keyword\"]', function() {\n            // Get values on search keyword change\n            \n            var val = $(this).val();\n\n            time_out ? window.clearTimeout(time_out) : 0;\n\n            time_out = window.setTimeout(function() {\n\n                run_instructor_filter('keyword', val);\n                time_out = null;\n\n            }, 500);\n        })\n        .on('click', '[data-page_number]', function(e) {\n\n            // On pagination click\n            e.preventDefault();\n            \n            run_instructor_filter(null, null, $(this).data( 'page_number' ) );\n\n        }).on('click', '.clear-instructor-filter', function() {\n\n            // Clear filter\n            var root = $(this).closest('.tutor-instructor-filter');\n            \n            root.find('input[type=\"checkbox\"]').prop('checked', false);\n\n            root.find('[name=\"keyword\"]').val('');\n            \n            run_instructor_filter();\n        })\n        .on('click', '.mobile-filter-container i', function () {\n            // Open mobile screen filter\n            $(this).parent().next().addClass('is-opened');\n        })\n        .on('click', '.mobile-filter-popup button', function() {\n            \n            $('.mobile-filter-popup [type=\"checkbox\"]').trigger('change');\n            \n            // Close mobile screen filter\n            $(this).closest('.mobile-filter-popup').removeClass('is-opened');\n\n        }).on('input', '.filter-mobile [name=\"keyword\"]', function() {\n\n            // Sync keyword with two screen\n            \n            root.find('.filter-pc [name=\"keyword\"]').val($(this).val()).trigger('input');\n\n        }).on('change', '.mobile-filter-popup [type=\"checkbox\"]', function(e) {\n\n            if(e.originalEvent) {\n                return;\n            }\n\n            // Sync category with two screen\n            var name = $(this).attr('name');\n            var val = $(this).val();\n            var checked = $(this).prop('checked');\n\n            root.find('.course-category-filter [name=\"'+name+'\"]').filter('[value=\"'+val+'\"]').prop('checked', checked).trigger('change');\n        \n        }).on('mousedown touchstart', '.expand-instructor-filter', function(e) {\n            \n            var window_height = $(window).height();\n            var el = root.find('.mobile-filter-popup>div');\n            var el_top = window_height-el.height();\n            var plus = ((e.originalEvent.touches || [])[0] || e).clientY - el_top;\n\n            root.on('mousemove touchmove', function(e){\n\n                var y = ((e.originalEvent.touches || [])[0] || e).clientY;\n\n                var height = (window_height-y)+plus;\n                \n                (height>200 && height<=window_height) ? el.css('height', height+'px') : 0;\n            });\n        \n        }).on('mouseup touchend', function(){\n\n            root.off('mousemove touchmove');\n        })\n        .on('click', '.mobile-filter-popup>div', function(e) {\n            e.stopImmediatePropagation();\n        }).on('click', '.mobile-filter-popup', function(e) {\n            $(this).removeClass('is-opened');;\n        });\n    });\n\n    /**\n     * Retake course\n     * \n     * @since v1.9.5\n     */\n    $('.tutor-course-retake-button').click(function(e) {\n        e.preventDefault();\n\n        var button = $(this);\n        var url = button.attr('href');\n        var course_id = button.data('course_id');\n\n        var popup;\n\n        var data = {\n            title: __('Override Previous Progress', 'tutor'),\n            description : __('Before continue, please decide whether to keep progress or reset.', 'tutor'),\n            buttons : {\n                reset: {\n                    title: __('Reset Data', 'tutor'),\n                    class: 'secondary',\n\n                    callback: function() {\n\n                        var button = popup.find('.tutor-button-secondary');\n                        button.prop('disabled', true).append('<img style=\"margin-left: 7px\" src=\"'+ window._tutorobject.loading_icon_url +'\"/>');\n\n                        $.ajax({\n                            url: window._tutorobject.ajaxurl,\n                            type: 'POST',\n                            data: {action: 'tutor_reset_course_progress', course_id: course_id},\n                            success: function(response) {\n                                if(response.success) {\n                                    window.location.assign(response.data.redirect_to);\n                                } else {\n                                    alert((response.data || {}).message || __('Something went wrong', 'tutor'));\n                                }\n                            },\n                            complete: function() {\n                                button.prop('disabled', false).find('img').remove();\n                            }\n                        });\n                    }\n                },\n                keep: {\n                    title: __('Keep Data', 'tutor'),\n                    class: 'primary',\n                    callback: function() {\n                        window.location.assign(url);\n                    }\n                }\n            } \n        };\n\n        popup = new window.tutor_popup($, 'icon-gear', 40).popup(data);\n    });\n\n\n    //warn user before leave page if quiz is running\n    document.body.addEventListener('click', function(event){\n        const target      = event.target;\n        const targetTag   = target.tagName \n        const parentTag   = target.parentElement.tagName;\n\n        if ( $tutor_quiz_time_update.length > 0 && $tutor_quiz_time_update.html() != 'EXPIRED' ) {\n            if ( targetTag === 'A' || parentTag === 'A' ) {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                let popup;\n\n                let data = {\n                    title: __( 'Abandon Quiz?', 'tutor' ),\n                    description : __( 'Do you want to abandon this quiz? The quiz will be submitted partially up to this question if you leave this page.', 'tutor' ),\n                    buttons : {\n                        keep: {\n                            title: __( 'Yes, leave quiz', 'tutor' ),\n                            id: 'leave',\n                            class: 'secondary',\n                            callback: function() {\n\n                                var formData = $('form#tutor-answering-quiz').serialize()+'&action='+'tutor_quiz_abandon';\n                                $.ajax({\n                                    url: window._tutorobject.ajaxurl,\n                                    type: 'POST',\n                                    data: formData,\n                                    beforeSend: function() {\n                                       document.querySelector(\"#tutor-popup-leave\").innerHTML = __( 'Leaving...', 'tutor' ); \n                                    },\n                                    success: function(response) {\n                                        if(response.success) {\n                                            if ( target.href == undefined ) {\n                                                location.href = target.parentElement.href\n                                            } else {\n                                                location.href = target.href\n                                            }\n                                        } else {\n                                            alert( __( 'Something went wrong', 'tutor' ) );\n                                        }\n                                    },\n                                    error: function() {\n                                        alert( __( 'Something went wrong', 'tutor' ) );\n                                        popup.remove();\n                                    }\n                                });\n                            }\n                        },\n                        reset: {\n                            title: __('Stay here', 'tutor'),\n                            id: 'reset',\n                            class: 'primary',\n                            callback: function() {\n                                popup.remove();\n                            }\n                        },\n                    } \n                };\n        \n                popup = new window.tutor_popup($, '', 40).popup(data);\n            }\n        }\n    });\n\n    /* Disable start quiz button  */\n    $('body').on('submit', 'form#tutor-start-quiz', function() {\n        $(this).find('button').prop('disabled', true);\n    });\n});"],"names":["window","tutor_get_nonce_data","send_key_value","nonce_data","_tutorobject","nonce_key","nonce_value","key","value","tutor_popup","$","icon","padding","$this","element","popup_wrapper","wrapper_tag","img_tag","tutor_url","popup","data","title","description","buttons","Object","keys","map","button","button_id","id","click","callback","content_wrapper","find","append","after_title","after_description","remove","children","e","stopPropagation","i","length","tutorDotLoader","loaderType","tutor_date_picker","jQuery","datepicker","format","wp_date_format","document","ready","wp","i18n","__","_x","_n","_nx","load_date_picker","on","keyCode","preventDefault","select2","width","templateSelection","iformat","templateResult","allowHtml","originalOption","text","event","$that","frame","open","media","multiple","attachment","state","get","first","toJSON","closest","attr","url","val","show","placeholder_src","hide","html","$button","topics_id","topic_title","topic_summery","topic_id","action","ajax","ajaxurl","type","beforeSend","addClass","success","removeClass","complete","confirm","lesson_id","$quizTitle","quiz_title","tabSelector","answer_id","output","$formInput","serializeObject","trigger","inputValue","prop","quiz_id","tutor_delay","timer","ms","clearTimeout","setTimeout","course_id","$modal","search_terms","instructor_id","data_target","siblings","history","pushState","obj","dropdownCssClass","input","parseInt","min","max","attempts_id","feedback","tutor_toast","add_new_button","update_button","delete_button","details_button","close_button","create_modal","update_modal","details_modal","announcement_date","announcement_id","course_name","announcement_title","announcement_summary","$btn","formData","serialize","status","location","reload","entries","message","error","console","log","whichtr","urlPrams","URL","href","search_params","searchParams","set","search","toString","hasClass","video_url_input","autofill_url_timeout","stopImmediatePropagation","root","duration_label","is_wp_media","autofill_url","video_url","originalEvent","clipboardData","getData","toggle_loading","loading_icon_url","set_duration","sec_num","hours","Math","floor","minutes","seconds","round","fragments","time_fields","eq","yt_to_seconds","duration","match","slice","x","replace","parent","player","createElement","addEventListener","src","regExp","video_id","getJSON","Array","isArray","undefined","api_key","result_url","items","contentDetails","trim","submit","ajaxSetup","fn","values","array","serializeArray","each","name","push","tutor_ob","asset","icons","content","fadeOut","popupMenuToggle","target","hasAttribute","getAttribute","popupMenu","getElementById","classList","contains","querySelectorAll","forEach","add","thumbnailUploadPreview","imgPreviewers","imgPreviews","imgPrevInputs","imgPrevDelBtns","previewer","img","file","files","parentEl","targetImg","querySelector","prevLoader","getImageAsDataURL","delBtn","setAttribute","imgSrc","reader","FileReader","onload","result","readAsDataURL","tutorModal","closeAttr","overlay","modal","m","escapeMarkup","markup","a","f","b","touches","c","changedTouches","d","createEvent","initMouseEvent","screenX","screenY","clientX","clientY","dispatchEvent","support","touch","ui","mouse","prototype","_mouseInit","_mouseDestroy","_touchStart","_mouseCapture","_touchMoved","_touchMove","_touchEnd","bind","touchstart","proxy","touchmove","touchend","call","unbind","videoPlayer","video_data","video_track_data","JSON","parse","track_player","that","Plyr","instance","detail","plyr","best_watch_time","currentTime","sync_time","tempTimeNow","intervalSeconds","tempTimeNowInSec","is_ended","autoload_next_course_content","autoload_content","options","post_id","data_send","assign","post","done","response","next_url","init","tutor_slugify","toLowerCase","toggle_star_","star","prevAll","filter","nextAll","rating","selected","review","alert","review_id","slideToggle","toggle","$form","question_id","conf","tinymce","wpautop","toolbar1","editor","initialize","$tutor_quiz_time_update","attempt_settings","attempt_meta","time_limit","time_limit_seconds","countDownDate","Date","attempt_started_at","getTime","time_now","date_time_now","tutor_quiz_interval","setInterval","distance","days","countdown_human","clearInterval","quiz_options","quiz_when_time_expires","tutor_quiz_remaining_time_secs","quiz_timeout_data","att","css","attemptAllowed","attemptRemaining","alertDiv","$quiz_start_form","quiz_auto_start","attempt_id","attempt_answer_id","mark_as","toggleClass","slideDown","lesson","redirect_to","enable_lesson_classic_editor","$wrap","page_title","Event","init_quiz_builder","sortable","handle","start","placeholder","stop","disableSelection","connectWith","prev","$question_wrap","validated","tutor_quiz_validation","feedBackNext","feedback_response","next_question_id","$nextQuestion","feedBackMode","$questions_wrap","index","question","$question","limit","short_answer_characters_limit","open_ended_answer_characters_limit","remaining","substr","countDraggableAnswers","draggableDivHeight","height","$required_answer_wrap","$inputs","$type","$matchingDropable","matching","goNext","quiz_answers","atob","tutor_quiz_context","split","reverse","join","validatedTrue","$checkedInputs","$input","isTrue","indexOf","checked","is","login_url","fadeIn","ShareLink","$social_share_wrap","share_config","image","class_prefix","successMsg","msg","slideUp","next","$responseDiv","Msg","available_balance","frontEndModal","element_id","res","placeholder_img_src","form_data","assignment_answer","library","$parent","field_markup","filename","tutor_course_builder","auto_draft_save_course_builder","tutor_ajax_action","json_data","$file","thread_id","thread_head_html","tutor_bp_setting_enrolled_courses_list","$li","itemShow","plusCourseCount","liIndex","liItem","$liItem","infoHtml","$content","copy","copied","dummy","body","appendChild","select","execCommand","removeChild","container","has","$form_wrapper","redirect","error_message","prepend","price_type","change","method","tutor_tooltip","which","filter_container","loop_container","filter_modifier","filter_criteria","r","page","tutor_course_filter","archive_loop","sessionStorage","getItem","removeItem","setItem","PhotoEditor","photo_editor","dialogue_box","open_dialogue_box","validate_image","upload_selected_image","nonce","context","toggle_loader","FormData","processData","contentType","error_alert","accept_upload_image","currentTarget","update_preview","delete_image","photo_type","renderer","toggle_profile_pic_action","filter_args","time_out","run_instructor_filter","page_number","result_container","html_cache","attributes","current_page","cat_parent","empty","cat_ids","inputs","window_height","el","el_top","plus","y","off","reset","keep","targetTag","tagName","parentTag","parentElement","innerHTML"],"sourceRoot":""}