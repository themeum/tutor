// Quiz Attempts Page Styles
// Student quiz history, results, and retake options

@use '@Core/scss/tokens' as *;
@use '@Core/scss/mixins' as *;

.tutor-quiz-attempts {
  &-filter {
    @include tutor-flex(row, center, space-between);
    padding: $tutor-spacing-5 $tutor-spacing-6;
    border-bottom: 1px solid $tutor-border-idle;

    &-item {
      @include tutor-flex(row, center, flex-start);
      gap: $tutor-spacing-2;
      @include tutor-typography(small);
      color: $tutor-text-secondary;
    }
  }

  &-header {
    display: grid;
    grid-template-columns: 340px 180px 1.5fr 1fr;
    background-color: $tutor-surface-base;
    border-bottom: 1px solid $tutor-border-idle;
    padding: $tutor-spacing-5 $tutor-spacing-6;

    @include tutor-typography(tiny);
    color: $tutor-text-secondary;
  }

  .tutor-quiz-attempts-item-wrapper {
    padding: $tutor-spacing-6;
    transition: background-color 0.25 ease-in-out;

    &:not(:last-child) {
      border-bottom: 1px solid $tutor-border-idle;
    }

    &:hover {
      background-color: $tutor-surface-l1-hover;
    }

    &.tutor-quiz-previous-attempts {
      background-color: $tutor-surface-l1-hover;

      .tutor-quiz-attempts-expand-icon {
        transform: rotate(180deg);
      }
    }

    .tutor-quiz-attempts-item {
      display: grid;
      grid-template-columns: 340px 180px 1.5fr 1fr;
      gap: $tutor-spacing-4;
      align-items: center;

      .tutor-quiz-attempts-expand-btn {
        @include tutor-button-reset();
        @include tutor-flex(row, center);
        gap: $tutor-spacing-2;
        @include tutor-typography(small, medium, brand);
        cursor: pointer;
        white-space: nowrap;
      }

      .tutor-quiz-attempts-expand-icon {
        display: flex;
        transition: transform 0.3s ease;
      }

      .tutor-quiz-item-marks {
        @include tutor-flex(row, center);
        gap: $tutor-spacing-4;

        .tutor-quiz-marks-breakdown {
          @include tutor-flex(column, stretch, center);
          gap: $tutor-spacing-1;

          .tutor-quiz-marks-correct,
          .tutor-quiz-marks-incorrect {
            @include tutor-typography(tiny, medium, secondary);
            @include tutor-flex(row, center);
            gap: $tutor-spacing-3;
            background-color: $tutor-surface-l2;
            padding: 0 $tutor-spacing-2;
            border-radius: 40px;

            &::before {
              content: '';
              display: inline-block;
              width: 8px;
              height: 8px;
              border-radius: 100%;
              background-color: $tutor-icon-success-primary;
              margin-inline-start: $tutor-spacing-3;
            }
          }

          .tutor-quiz-marks-incorrect {
            &::before {
              background-color: $tutor-icon-critical;
            }
          }
        }
      }

      .tutor-quiz-item-time {
        @include tutor-flex(row, center);
        gap: $tutor-spacing-2;
        @include tutor-typography(medium, regular, secondary);
        white-space: nowrap;
      }

      .tutor-quiz-item-result {
        @include tutor-flex(column, center, center);

        .tutor-quiz-item-result-more {
          display: none;
        }
      }

      &:hover {
        .tutor-quiz-item-result {
          .tutor-badge {
            display: none;
          }

          .tutor-quiz-item-result-more {
            display: block;
          }
        }
      }
    }

    .tutor-quiz-previous-attempts {
      background-color: $tutor-surface-l1;
      border-radius: $tutor-radius-sm;
      margin-top: $tutor-spacing-6;

      .tutor-quiz-attempts-item {
        grid-template-columns: 324px 180px 1.5fr 1fr;
        padding: $tutor-spacing-6;
        transition: background-color 0.25 ease-in-out;

        &:hover {
          background-color: $tutor-surface-base;
        }

        &:not(:last-child) {
          border-bottom: 1px solid $tutor-border-idle;
        }
      }
    }
  }
}
