// Progress Card Component
// Dashboard progress card with image thumbnail and course progress

@use '@Core/scss/tokens' as *;
@use '@Core/scss/mixins' as *;

.tutor-progress-card {
	position: relative;
	padding: $tutor-spacing-4;
	@include tutor-flex(row, stretch, flex-start);
	gap: $tutor-spacing-5;
	border: 1px solid $tutor-border-idle;
	border-radius: $tutor-radius-2xl;
	transition: all 0.2s ease;
	cursor: pointer;
	overflow: hidden;

	&:hover {
		background-color: $tutor-surface-l1-hover;
	}

	&-thumbnail {
		position: relative;
		flex: 0 0 200px;
		aspect-ratio: 16 / 9;
		border-radius: $tutor-radius-lg;
		overflow: hidden;

		img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			object-position: center;
		}
	}

	&-kebab-overlay {
		display: none;
	}

	&-content {
		flex: 1 1 calc(100% - 224px);
		@include tutor-flex(column, stretch, space-between);
	}

	&-header {
		@include tutor-flex(column, stretch, flex-start);
		gap: $tutor-spacing-1;
	}

	&-category {
		@include tutor-typography('tiny', 'regular', 'secondary');
		margin-bottom: $tutor-spacing-1;
	}

	&-title {
		@include tutor-typography('small', 'medium', 'primary');
		margin: 0;
	}

	&-details {
		@include tutor-typography('tiny', 'regular', 'secondary');
		display: flex;
		align-items: center;
		gap: $tutor-spacing-2;
		margin-bottom: $tutor-spacing-2;
	}

	&-separator {
		color: $tutor-text-secondary;
	}

	&-actions {
		position: absolute;
		top: $tutor-spacing-4;
		@include right($tutor-spacing-4);
		@include tutor-flex(row, center, flex-end);
		gap: $tutor-spacing-3;
		opacity: 0;
		visibility: hidden;
		z-index: $tutor-z-dropdown;
		transition: opacity 0.2s ease, visibility 0.2s ease;
	}

	&-resume-btn {
		display: inline-flex;
		align-items: center;
		gap: $tutor-spacing-2;
		white-space: nowrap;
	}

	&-menu {
		display: inline-flex;
	}

	&-menu-btn {
		padding: $tutor-spacing-2;
		min-width: auto;
		min-height: auto;
		background-color: $tutor-button-ghost-hover;

		&:hover:not(:disabled) {
			background-color: $tutor-button-ghost-hover;
		}
	}

	&-footer {
		display: none;
	}

	&:hover &-actions {
		opacity: 1;
		visibility: visible;
	}

	// Ensure button text colors remain unchanged for all button instances
	.tutor-btn-primary {
		color: $tutor-text-primary-inverse;
	}

	.tutor-btn-ghost {
		color: $tutor-text-primary;
	}

	// Mobile styles
	@include tutor-breakpoint-down(sm) {
		@include tutor-flex(column, stretch, flex-start);
		height: auto;
		gap: $tutor-spacing-none;
		padding: $tutor-spacing-4 $tutor-spacing-4 $tutor-spacing-5;

		&:hover {
			background-color: transparent;
		}

		&-thumbnail {
			width: 100%;
			max-width: 100%;
			margin-bottom: $tutor-spacing-4;
			aspect-ratio: 16 / 9;
		}

		&-kebab-overlay {
			display: block;
			position: absolute;
			top: $tutor-spacing-4;
			@include right($tutor-spacing-4);
			z-index: $tutor-z-dropdown;
		}

		&-header {
			margin-bottom: $tutor-spacing-4;
		}

		&-details {
			margin-bottom: $tutor-spacing-3;
		}

		&-content {
			padding: 0 $tutor-spacing-3;
		}

		&-actions {
			display: none;
		}

		&-footer {
			display: block;
			padding: $tutor-spacing-6 $tutor-spacing-4 0;
		}
	}
}