# Alpine.js Components

TutorCore provides a comprehensive set of Alpine.js components with TypeScript support, RTL compatibility, and accessibility features. These components are designed to work seamlessly with the TutorCore design system.

## Overview

The TutorCore Alpine.js components offer:

- **TypeScript Support**: Full type definitions with no `any` types
- **RTL Compatibility**: Automatic adaptation to right-to-left layouts
- **Accessibility**: ARIA attributes, keyboard navigation, and focus management
- **Customizable**: Extensive configuration options for each component
- **Performance**: Optimized for minimal bundle size and fast rendering

## Available Components

### Interactive Components
- **Dropdown**: Context menus and select dropdowns with positioning
- **Modal**: Dialogs and overlays with focus management
- **Tabs**: Tab navigation with keyboard support
- **Accordion**: Collapsible content sections
- **Toast**: Notification system with stacking
- **Tooltip**: Contextual help and information
- **Popover**: Rich content overlays
- **Sidebar**: Navigation panels with responsive behavior
- **Form Validation**: Real-time form validation with custom rules

## Getting Started

### Basic Usage

Include Alpine.js and TutorCore in your HTML:

```html
<!DOCTYPE html>
<html lang="en" dir="ltr" data-theme="light">
  <head>
    <link rel="stylesheet" href="tutor-core.min.css" />
  </head>
  <body>
    <!-- Your components here -->
    
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="tutor-core.min.js"></script>
  </body>
</html>
```

### Component Usage

Use components with Alpine.js `x-data` directive:

```html
<!-- Dropdown Example -->
<div x-data="TutorCore.dropdown({ placement: 'bottom-start' })">
  <button @click="toggle()" class="tutor-btn tutor-btn--primary">
    Options
  </button>
  <div x-show="open" @click.outside="close()" class="tutor-dropdown__menu">
    <a href="#" class="tutor-dropdown__item">Profile</a>
    <a href="#" class="tutor-dropdown__item">Settings</a>
  </div>
</div>
```

### TypeScript Integration

For TypeScript projects, import and use with full type safety:

```typescript
import { TutorCore } from 'tutor-core';

// Create component data with type safety
const dropdownData = TutorCore.dropdown({
  placement: 'bottom-start',
  closeOnClickOutside: true,
});

// Register with Alpine.js
document.addEventListener('alpine:init', () => {
  Alpine.data('myDropdown', () => dropdownData);
});
```

## Configuration Options

Each component accepts a configuration object with typed options:

### Common Configuration Patterns

```typescript
// Dropdown configuration
interface DropdownConfig {
  placement?: 'bottom-start' | 'bottom-end' | 'top-start' | 'top-end';
  offset?: number;
  closeOnClickOutside?: boolean;
}

// Modal configuration
interface ModalConfig {
  closable?: boolean;
  backdrop?: boolean;
  keyboard?: boolean;
}

// Toast configuration
interface ToastConfig {
  type?: 'success' | 'error' | 'warning' | 'info';
  duration?: number;
  position?: 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left';
}
```

## RTL Support

All components automatically adapt to RTL layouts:

```html
<!-- LTR Layout -->
<html lang="en" dir="ltr">
  <div x-data="TutorCore.dropdown({ placement: 'bottom-start' })">
    <!-- Dropdown opens to the right -->
  </div>
</html>

<!-- RTL Layout -->
<html lang="ar" dir="rtl">
  <div x-data="TutorCore.dropdown({ placement: 'bottom-start' })">
    <!-- Dropdown automatically opens to the left -->
  </div>
</html>
```

## Accessibility Features

### Keyboard Navigation
- **Tab**: Navigate between focusable elements
- **Enter/Space**: Activate buttons and controls
- **Escape**: Close modals, dropdowns, and overlays
- **Arrow Keys**: Navigate within components (tabs, accordion)

### ARIA Support
- Proper ARIA roles and attributes
- Screen reader announcements
- Focus management
- Semantic HTML structure

### Focus Management
- Focus trapping in modals
- Focus restoration when closing overlays
- Visible focus indicators
- Skip links for complex components

## Performance Considerations

### Lazy Loading
Components are only initialized when needed:

```html
<!-- Component is created only when x-data is evaluated -->
<div x-data="TutorCore.modal()" x-show="false">
  <!-- Modal content -->
</div>
```

### Memory Management
Components automatically clean up event listeners and timers when destroyed.

### Bundle Size
- Individual components can be imported separately
- Tree-shaking eliminates unused code
- Minimal runtime overhead

## Best Practices

### Component Organization
```html
<!-- Good: Clear component boundaries -->
<div x-data="TutorCore.dropdown()" class="dropdown-container">
  <button @click="toggle()" class="dropdown-trigger">Options</button>
  <div x-show="open" class="dropdown-menu">
    <!-- Menu items -->
  </div>
</div>
```

### Event Handling
```html
<!-- Good: Use Alpine.js event modifiers -->
<div x-data="TutorCore.modal()">
  <div x-show="open" @click.outside="hide()" @keydown.escape="hide()">
    <!-- Modal content -->
  </div>
</div>
```

### State Management
```html
<!-- Good: Use component methods for state changes -->
<div x-data="TutorCore.tabs({ defaultTab: 0 })">
  <button @click="setTab(0)" :class="{ active: isActive(0) }">Tab 1</button>
  <button @click="setTab(1)" :class="{ active: isActive(1) }">Tab 2</button>
</div>
```

## Debugging

### Development Mode
Enable Alpine.js devtools for debugging:

```html
<script>
  window.Alpine = Alpine;
  Alpine.start();
</script>
```

### Component State
Access component state in browser console:

```javascript
// Get component data
const element = document.querySelector('[x-data]');
const componentData = Alpine.$data(element);
console.log(componentData);
```

## Migration Guide

### From Alpine.js v2
TutorCore components are built for Alpine.js v3. Key differences:

- Use `x-data` instead of `x-data="{}"`
- Event syntax changes: `@click.away` â†’ `@click.outside`
- New lifecycle hooks: `x-init`, `x-effect`

### From Other Libraries
TutorCore components can replace:

- **Bootstrap**: Dropdown, Modal, Tabs, Accordion
- **jQuery UI**: Tooltip, Dialog, Accordion
- **Custom Solutions**: Toast notifications, Form validation

## Browser Support

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## Examples

Each component includes comprehensive examples showing:

- Basic usage with HTML
- Advanced configuration options
- RTL layout examples
- Accessibility features
- Integration patterns
- Common use cases

Explore the individual component stories to see detailed examples and interactive demonstrations.